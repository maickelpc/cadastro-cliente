(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{Uh4a:function(t,a,e){"use strict";e("m1h3")},jtAd:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,"tr[data-v-1172ad3c]:hover{background-color:#eff2f7}.breadcrumb-item[data-v-1172ad3c]{cursor:pointer;margin-left:0;margin-right:15px;padding-left:0;padding-right:0}.red[data-v-1172ad3c]{color:red!important;background-color:red!important;color:#00f!important;background-color:#00f!important}",""])},m1h3:function(t,a,e){var s=e("jtAd");"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,r);s.locals&&(t.exports=s.locals)},xknZ:function(t,a,e){"use strict";e.r(a);var s=e("gR0X"),r=e("wd/R"),i=e.n(r);function o(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function n(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var c=new s.c,l={data:function(){return{timer:null,buscando:!1,filtro:{periodo:[i()().startOf("month").toDate(),i()().endOf("month").toDate()],data_referencia:"COMPETENCIA"},dados:null}},methods:{debounceBusca:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.buscarDados()}),800)},buscarDados:function(){var t=this;this.buscando||(this.buscando=!0,c.despesasDetalhado(this.prepararFiltro()).then((function(a){t.dados=a.data})).finally((function(){return t.buscando=!1})))},imprimir:function(){return c.link_despesas_detalhado(this.prepararFiltro())},prepararFiltro:function(){var t=function(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?o(Object(e),!0).forEach((function(a){n(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}({},this.filtro);return delete t.periodo,t.data_inicial=i()(this.filtro.periodo[0]).format("DD-MM-YYYY"),t.data_final=i()(this.filtro.periodo[1]).format("DD-MM-YYYY"),t}},computed:{despesas_com_lancamento:function(){return this.dados.filter((function(t){return t.total>0}))},despesa_total:function(){return this.despesas_com_lancamento.reduce((function(t,a){return t+a.total}),0)}},mounted:function(){var t=this;setTimeout((function(){t.buscarDados()}),200)}},d=(e("Uh4a"),e("KHd+")),v=Object(d.a)(l,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[e("h4",{staticClass:"mb-0 font-size-18"},[t._v("Despesas Mensal")]),t._v(" "),e("div",{staticClass:"float-right"},[e("div",{staticClass:"dropdown"},[t._m(0),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right dropdown-menu-md"},[e("a",{staticClass:"dropdown-item",attrs:{href:t.imprimir()+"&estilo=resumido",target:"_blank"}},[t._v("Imprimir Resumido")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:t.imprimir()+"&estilo=detalhado",target:"_blank"}},[t._v("Imprimir Detalhado")])])])])])])]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row",staticStyle:{padding:"10px"}},[e("div",{staticClass:"col-sm-12 col-md-6"},[e("label",{staticClass:"col-form-label"},[t._v("Período")]),t._v(" "),e("div",{staticClass:" mb-4"},[e("date-picker",{attrs:{range:"",format:"DD/MM/YYYY","range-separator":" até ",clearable:!1},model:{value:t.filtro.periodo,callback:function(a){t.$set(t.filtro,"periodo",a)},expression:"filtro.periodo"}})],1)]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-4"},[e("label",{staticClass:"col-form-label"},[t._v("Data de Referência")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro.data_referencia,expression:"filtro.data_referencia"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filtro,"data_referencia",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"COMPETENCIA"}},[t._v("Data de Competência")]),t._v(" "),e("option",{attrs:{value:"CRIACAO"}},[t._v("Data de Lançamento")])])]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-2"},[e("label",{staticClass:"col-form-label"},[t._v(" ")]),t._v(" "),e("button",{staticClass:"btn btn-outline-primary waves-effect waves-light btn-block",attrs:{type:"button"},on:{click:this.buscarDados}},[t.buscando?e("i",{staticClass:"bx bx-loader bx-spin font-size-16 align-middle mr-2"}):e("i",{staticClass:"bx bx bx-search  font-size-16 align-middle mr-2"}),t._v(" \n                          Buscar\n                      ")])])])])]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("Resumo")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row",staticStyle:{padding:"10px"}},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table mb-0"},[t._m(1),t._v(" "),e("tbody",[t._l(t.despesas_com_lancamento,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.codigo)+" - "+t._s(a.nome))]),t._v(" "),e("td",[t._v(t._s(t._f("currency")(a.total,t.$store.state.moeda)))])])})),t._v(" "),e("tr",{staticStyle:{"font-size":"10pt"}},[e("th",[t._v("Total")]),t._v(" "),e("th",[t._v(t._s(t._f("currency")(t.despesa_total,t.$store.state.moeda)))])])],2)])])])])])])])]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row",staticStyle:{padding:"10px"}},[e("h4",{staticClass:"card-title"},[t._v("Detalhado")]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table mb-0"},[t._m(2),t._v(" "),t._l(t.dados,(function(a,s){return e("tbody",{key:s},[e("tr",{staticStyle:{"background-color":"rgb(235 235 235)","font-size":"10pt","font-weight":"700"}},[e("td",{attrs:{colspan:"100000"}},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",[t._l(a.nivel,(function(a){return e("span",{key:a},[t._v(" ")])})),t._v("\n                                                  "+t._s(a.codigo)+" - "+t._s(a.nome)+"\n                                              ")],2),t._v(" "),e("span",[e("span",{staticStyle:{"font-weight":"500","font-size":"8pt","margin-right":"30px"},attrs:{title:"Valor Agrupado"}},[t._v("\n                                                      "+t._s(t._f("currency")(a.total_agrupado,t.$store.state.moeda))+"\n                                                  ")]),t._v("\n                                                  \n                                                  "+t._s(t._f("currency")(a.total,t.$store.state.moeda))+"\n\n                                              ")])])])]),t._v(" "),t._l(a.lancamentos,(function(a){return e("tr",{key:a.id},[e("td"),t._v(" "),e("td",[t._v(t._s(a.parceiro?a.parceiro.apelido:""))]),t._v(" "),e("td",[t._v(t._s(a.historico))]),t._v(" "),e("td",[t._v(t._s(t._f("dateformat")(a.data_competencia)))]),t._v(" "),e("td",[t._v(t._s(t._f("dateformat")(a.data_lancamento)))]),t._v(" "),e("td",[t._v(t._s(t._f("currency")(a.valor,t.$store.state.moeda)))])])}))],2)}))],2)])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-light dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"mdi mdi-printer mr-1"}),this._v(" "),a("span",{staticClass:"d-none d-sm-inline-block"},[this._v("Imprimir "),a("i",{staticClass:"mdi mdi-chevron-down"})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("tr",[a("th",[this._v("Despesa")]),this._v(" "),a("th",[this._v("Valor")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("td"),t._v(" "),e("th",[t._v("Parceiro")]),t._v(" "),e("th",[t._v("Histórico")]),t._v(" "),e("th",[t._v("Competência")]),t._v(" "),e("th",[t._v("Lançamento")]),t._v(" "),e("th",[t._v("Valor")])])])}],!1,null,"1172ad3c",null);a.default=v.exports}}]);
//# sourceMappingURL=34.js.map