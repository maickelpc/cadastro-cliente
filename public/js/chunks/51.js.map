{"version":3,"sources":["webpack:///./resources/js/views/admin/usuarios/PermissoesForm.vue?26d4","webpack:///resources/js/views/admin/usuarios/PermissoesForm.vue","webpack:///./resources/js/views/admin/usuarios/PermissoesForm.vue?9403","webpack:///./resources/js/views/admin/usuarios/PermissoesForm.vue"],"names":["data","component","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","submit","_m","_v","attrs","model","value","form","callback","$$v","$set","expression","$v","name","$touch","guard_name","description","directives","rawName","sucesso","erros","errosTitulo","_e","id"],"mappings":"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","file":"js/chunks/51.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"row\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit()}}},[_c('div',{staticClass:\"col-lg-12\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('input-componente',{attrs:{\"disabled\":true,\"label\":\"Id\"},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"},[_c('input-componente',{attrs:{\"label\":\"Nome\",\"validator\":_vm.$v.form.name},on:{\"blur\":_vm.$v.form.name.$touch},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"},[_c('input-componente',{attrs:{\"label\":\"Guarda\",\"placeholder\":\"web / api\",\"validator\":_vm.$v.form.guard_name},on:{\"blur\":_vm.$v.form.guard_name.$touch},model:{value:(_vm.form.guard_name),callback:function ($$v) {_vm.$set(_vm.form, \"guard_name\", $$v)},expression:\"form.guard_name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md-12\"},[_c('input-componente',{attrs:{\"label\":\"Descrição\",\"validator\":_vm.$v.form.description},on:{\"blur\":_vm.$v.form.description.$touch},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"i\",rawName:\"v-i\",value:(_vm.sucesso || _vm.erros),expression:\"sucesso || erros\"}],staticClass:\"col-md-12 text-center\"},[(_vm.erros)?_c('mensagem-componente',{attrs:{\"titulo\":_vm.errosTitulo,\"erros\":_vm.erros},on:{\"fechar\":function($event){_vm.erros = null}}}):_vm._e(),_vm._v(\" \"),(_vm.sucesso)?_c('mensagem-componente',{attrs:{\"sucesso\":_vm.sucesso},on:{\"fechar\":function($event){_vm.sucesso = null}}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md-12 button-items text-center\"},[_c('router-link',{staticClass:\"btn btn-warning waves-effect waves-light w-sm\",attrs:{\"title\":\"Voltar\",\"to\":{name: 'permissoesLista'}}},[_c('i',{staticClass:\"bx bx-arrow-back d-block font-size-16\"}),_vm._v(\" Voltar\\n                        \")]),_vm._v(\" \"),_vm._m(1)],1)])])])]),_vm._v(\" \"),(_vm.form.id)?_c('div',{staticClass:\"col-md-12 text-right\"},[_c('log-componente',{attrs:{\"index\":_vm.form.id,\"subject_type\":\"App\\\\Models\\\\Spatie\\\\Permissao\",\"subject_id\":_vm.form.id}})],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h3',[_vm._v(\"Cadastro de Permissão\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-primary waves-effect waves-light w-sm\",attrs:{\"type\":\"submit\",\"title\":\"salvar\"}},[_c('i',{staticClass:\"bx bxs-save d-block font-size-16\"}),_vm._v(\" Salvar\\n                        \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <form class=\"row\" @submit.prevent=\"submit()\">\n    <div class=\"col-lg-12\">\n        <div class=\"card\">\n            <div class=\"card-header\">\n                <div class=\"row\">\n                    <div class=\"col-md-12\">\n                        <h3>Cadastro de Permissão</h3>\n                    </div>\n                </div>\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <input-componente\n                            :disabled=\"true\"\n                            v-model=\"form.id\"\n                            label=\"Id\"\n                            />\n                    </div>\n                    <div class=\"col-md-6\">\n                      \n                    </div>\n                    <div class=\"col-md-6\">\n                        <input-componente\n                            v-model=\"form.name\"\n                            label=\"Nome\"\n                            :validator=\"$v.form.name\"\n                            @blur=\"$v.form.name.$touch\"\n                            />\n                    </div>\n                    <div class=\"col-md-6\">\n                        <input-componente\n                            v-model=\"form.guard_name\"\n                            label=\"Guarda\"\n                            placeholder=\"web / api\"\n                            :validator=\"$v.form.guard_name\"\n                            @blur=\"$v.form.guard_name.$touch\"\n                            />\n                    </div>\n                    <div class=\"col-md-12\">\n                        <input-componente\n                            v-model=\"form.description\"\n                            label=\"Descrição\"\n                            :validator=\"$v.form.description\"\n                            @blur=\"$v.form.description.$touch\"\n                            />\n                    </div>\n                </div>\n            </div>\n            <div class=\"card-footer\">\n                <div class=\"row\">\n                    \n                    <div class=\"col-md-12 text-center\" v-i=\"sucesso || erros\">\n                        <mensagem-componente :titulo=\"errosTitulo\" v-if=\"erros\" :erros=\"erros\" @fechar=\"erros = null\"></mensagem-componente>\n                        <mensagem-componente v-if=\"sucesso\" :sucesso=\"sucesso\" @fechar=\"sucesso = null\"></mensagem-componente>\n                    </div>\n                \n                    <div class=\"col-md-12 button-items text-center\">\n\n                        <router-link class=\"btn btn-warning waves-effect waves-light w-sm\" title=\"Voltar\" :to=\"{name: 'permissoesLista'}\">\n                            <i class=\"bx bx-arrow-back d-block font-size-16\"></i> Voltar\n                        </router-link>\n\n                        <button type=\"submit\" class=\"btn btn-primary waves-effect waves-light w-sm\" title=\"salvar\">\n                            <i class=\"bx bxs-save d-block font-size-16\"></i> Salvar\n                        </button>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"col-md-12 text-right\" v-if=\"form.id\">\n        <log-componente :index=\"form.id\" subject_type=\"App\\Models\\Spatie\\Permissao\"  :subject_id=\"form.id\" ></log-componente>\n    </div>\n</form>\n</template>\n\n<script>\n\nimport { required, minLength, maxLength } from \"vuelidate/lib/validators\";\nimport mensagem from \"../../../components/forms/mensagem.vue\";\nimport { UserService } from '../../../services/UserService'\nconst userService = new UserService();\n\nexport default {\n\n  data() {\n        return {\n            form: {\n                id: null,\n                name: '',\n                guard_name: '',\n                description: '',\n            },\n            sucesso: null,\n            erros:null,\n            errosTitulo:''\n        } ;\n    },\n    validations: {\n        form: {\n            name: {\n                required, maxLength: maxLength(50)\n            },\n            guard_name: {\n                required, maxLength: maxLength(50) \n            },\n            description: {\n                maxLength: maxLength(200) \n            }\n        },\n    },\n    mounted() {\n        if (this.$route.params.id) {\n            this.buscarObjeto(this.$route.params.id);\n        }       \n    },\n    methods: {\n\n        submit: function(event){\n\n            this.$v.$touch();\n            this.erros = null;\n            this.sucesso = null;    \n            this.errosTitulo ='';\n\n            if (this.$v.$invalid){\n                this.errosTitulo = 'Preencha o formulário corretamente, alguns campos estão com erros!'\n                this.erros = this.$v.form;\n                return false;\n            }\n            let obj = {...this.form};\n            \n            let request = null;\n            if(obj.id)    \n                request = userService.atualizarPermissao(obj);\n            else\n                request = userService.criarPermissao(obj);\n\n            request.then(\n                response => {\n                    let redireciona = !this.form.id;\n                    this.form = response.data;\n                    this.sucesso = \"Registro salvo com sucesso!\";\n                    if(redireciona) {\n                        let index = String(this.$route.path).lastIndexOf(\"/\");\n                        let newPath = String(this.$route.path).slice(0, index);\n                        newPath += \"/\" + this.form.id;\n                        this.$router.push(newPath);\n                        this.buscarObjeto(this.form.id);\n                    }\n                }   \n            ).catch( erro => this.erros = erro )\n\n        },\n\n        buscarObjeto: function(id){\n            userService.buscarPermissao(id)\n                .then(  response => this.form = response.data )\n                .catch( erro => this.erros = erro)\n        }\n\n    }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissoesForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissoesForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissoesForm.vue?vue&type=template&id=0999b399&\"\nimport script from \"./PermissoesForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissoesForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}