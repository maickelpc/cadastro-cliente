(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"+axd":function(a,t,o){"use strict";o.r(t);var s=o("ta7f"),e=o("gR0X"),r=o("wd/R"),i=o.n(r);function n(a){return function(a){if(Array.isArray(a))return c(a)}(a)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(a)||function(a,t){if(!a)return;if("string"==typeof a)return c(a,t);var o=Object.prototype.toString.call(a).slice(8,-1);"Object"===o&&a.constructor&&(o=a.constructor.name);if("Map"===o||"Set"===o)return Array.from(a);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return c(a,t)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(a,t){(null==t||t>a.length)&&(t=a.length);for(var o=0,s=new Array(t);o<t;o++)s[o]=a[o];return s}function l(a,t){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),o.push.apply(o,s)}return o}function d(a){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){m(a,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(o,t))}))}return a}function m(a,t,o){return t in a?Object.defineProperty(a,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[t]=o,a}var v=new e.v,u=new e.A,_=new e.t,p=new e.w,f=new e.m,b=new e.y,h={data:function(){return{form:{id:null,parceiro_id:"",condicoes_entrada:[],tipo_item_os:{},servicos:[],devolucao_data:null,forma_pagamento_id:""},novo_status:"",observacoes:"",tipos_item:[],parceiros:[],buscandoParceiros:!1,parceiroModal:null,sucesso:null,erros:null,errosTitulo:"",timer:null,erroModal:null,sucessoModal:null,observacoes_avulsas:"",preco:{decimal:",",thousands:".",prefix:this.$store.state.moeda+" ",suffix:"",precision:2,masked:!1},contas:[],formasPagamento:[],sucessoCancelar:null,erroCancelar:null,servicos_item:[]}},validations:function(){return{observacoes:{required:s.required},parceiroModal:{apelido:{required:s.required,maxLength:Object(s.maxLength)(50)},razao_social:{required:s.required,maxLength:Object(s.maxLength)(200)},nome_fantasia:{required:Object(s.requiredIf)((function(){return"JURIDICA"==this.form.tipo_pessoa&&!this.form.estrangeiro})),maxLength:Object(s.maxLength)(200)},tipo_pessoa:{required:s.required,maxLength:Object(s.maxLength)(20)},tipo_documento:{maxLength:Object(s.maxLength)(20)},documento:{maxLength:Object(s.maxLength)(20)},rg_ie:{maxLength:Object(s.maxLength)(20)},rg_ie_estado:{maxLength:Object(s.maxLength)(2)},im:{maxLength:Object(s.maxLength)(20)},ativo:{required:s.required},cliente:{required:s.required},fornecedor:{required:s.required},cidade_id:{},endereco_tipo:{maxLength:Object(s.maxLength)(20)},logradouro:{maxLength:Object(s.maxLength)(100)},numero:{maxLength:Object(s.maxLength)(10)},complemento:{maxLength:Object(s.maxLength)(100)},bairro:{maxLength:Object(s.maxLength)(100)},cep:{maxLength:Object(s.maxLength)(10)},fone:{maxLength:Object(s.maxLength)(20)},email:{email:s.email,maxLength:Object(s.maxLength)(150)}},form:{parceiro_id:{required:s.required},descricao:{required:s.required},tipo_item_os:{required:s.required},marca:{required:s.required},modelo:{required:s.required},identificacao:{required:s.required},data_entrada:{},acessorios:{},avarias:{},observacoes:{},status:{},aprovacao_data:{},aprovacao_observacoes:{},devolucao_data:{required:Object(s.requiredIf)((function(){return this.form.forma_pagamento_id}))},devolucao_observacoes:{},devolucao_usuario_id:{},valor:{},fotos_entrada:{},fotos_saida:{},servicos:{required:s.required,$each:{descricao:{maxLength:Object(s.maxLength)(200),required:Object(s.requiredIf)((function(a){return!a.queixa}))},servico_item_id:{required:s.required},valor:{minValue:Object(s.minValue)(0)},aprovado:{required:s.required}}}}}},methods:{submit:function(){var a=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.$v.form.$touch(),this.erros=null,this.sucesso=null,this.errosTitulo="",this.$v.form.$invalid)return this.errosTitulo="Preencha o formulário corretamente, alguns campos estão com erros!",this.erros=this.$v.form,!1;var o=d({},this.form);o.servicos=n(this.form.servicos),o.valor_subtotal=this.valor_total,o.valor_total=this.valor_total;(o.id?_.atualizar(o):_.criar(o)).then((function(o){a.$v.form.$reset(),t&&(a.sucesso="Registro salvo com sucesso!")})).catch((function(o){t?a.erros=o:console.log(o,o.response)}))},abrirModalStatus:function(){this.sucessoModal=null,this.erroModal=null,this.novo_status="",this.observacoes="",this.$v.observacoes.$reset()},atualizarStatus:function(){var a=this;if(this.sucessoModal=null,this.erroModal=null,this.$v.observacoes.$invalid)return this.erroModal="É necessário preencher o campo de observações!",this.$v.observacoes.$touch(),!1;var t={id:this.form.id,status:this.novo_status,observacoes:this.observacoes};_.atualizarStatus(t).then((function(t){a.form.status=a.novo_status,a.novo_status="",a.observacoes="",a.sucessoModal="Status atualizado com sucesso!!!",a.$v.observacoes.$reset(),a.form.observacoes=t.data.observacoes})).catch((function(t){a.erroModal=t}))},podeTrocarStatus:function(a){if(this.form.status==a)return!1;switch(this.form.status){case"PENDENTE":return["CANCELADO","ORCAMENTO","ANDAMENTO"].indexOf(a)>=0;case"ORCAMENTO":return["CANCELADO","PENDENTE","ANDAMENTO"].indexOf(a)>=0;case"CANCELADO":return[].indexOf(a)>=0;case"AGUARDANDO PECA":return["CANCELADO","AGUARDANDO RETIRADA","ANDAMENTO"].indexOf(a)>=0;case"ANDAMENTO":return["CANCELADO","AGUARDANDO PECA","AGUARDANDO RETIRADA"].indexOf(a)>=0;case"AGUARDANDO RETIRADA":return["CANCELADO","ANDAMENTO","AGUARDANDO PECA"].indexOf(a)>=0;case"ENTREGUE":return[].indexOf(a)>=0}},novaObservacaoAvulsa:function(){var a=this,t={id:this.form.id,observacoes:this.observacoes_avulsas};_.observacoes(t).then((function(t){a.form.observacoes=t.data.observacoes,a.observacoes_avulsas="",Vue.$toast.success("Observação registrada com sucesso!")})).catch((function(a){console.log(a,a.response),Vue.$toast.error("Não foi possível registrar esta observação!")}))},adicionarServico:function(){var a=this,t={valor:0,queixa:""};this.editando&&(t.ordem_servico_id=this.form.id),setTimeout((function(){a.form.servicos.push(t)}),200)},atualizarServico:function(a){var t=this;this.form.servicos[a].erros=null,this.form.servicos[a].sucesso=null;var o=d({},this.form.servicos[a]);o.valor=o.novo_valor,o.aprovado=o.novo_aprovado,_.atualizarServico(o).then((function(o){t.form.servicos[a].sucesso="Serviço atualizado com Sucesso!!!",t.form.servicos[a].valor=t.form.servicos[a].novo_valor,t.form.servicos[a].aprovado=t.form.servicos[a].novo_aprovado,t.form.servicos[a].aprovado_em=o.data.aprovado_em,t.submit(!1)})).catch((function(o){t.form.servicos[a].erros=o})).finally((function(){return t.$forceUpdate()}))},qtde:function(a){return{decimal:",",thousands:".",prefix:"",suffix:"",precision:a,masked:!1}},buscarObjeto:function(a){var t=this;_.buscar(a).then((function(a){var o=a.data,s=t.tipos_item.map((function(a){return a.id})).indexOf(o.tipo_item_os_id);o.tipo_item_os=t.tipos_item[s],o.servicos=o.servicos.map((function(a){var o=t.servicos_item.map((function(a){return a.id})).indexOf(a.servico_item_id);return o>=0&&(a.servico_item=t.servicos_item[o]),a.novo_valor=Number(a.valor),a.valor=Number(a.valor),a.novo_aprovado=a.aprovado,a.erros=null,a.sucesso=null,a.garantia_dias=Number(a.garantia_dias?a.garantia_dias:"0"),a})),t.form=o})).catch((function(a){return t.erros=a}))},buscarParceirosDebounce:function(a,t){var o=this;clearTimeout(this.timer),this.timer=setTimeout((function(){o.buscarParceiros(a,t)}),700)},buscarParceiros:function(a,t){var o=this;this.buscandoParceiros=!0,v.listar({texto:a,per_page:50,id:this.form.id,tipo:"CLIENTE"}).then((function(a){return o.parceiros=a.data.data})).catch((function(a){return console.log(a)})).finally((function(){return o.buscandoParceiros=!1}))},desabilitaDataFutura:function(a){return a>new Date},novoParceiro:function(){this.sucessoModal=null,this.erroModal=null,this.parceiroModal={ativo:!0,cliente:!0,fornecedor:!1,tipo_pessoa:"FISICA",estrangeiro:!1}},salvarParceiro:function(){var a=this;if(this.$v.parceiroModal.$touch(),this.sucessoModal=null,this.erroModal=null,this.$v.parceiroModal.$invalid)return this.erroModal=this.$v.parceiroModal,!1;var t=d({},this.parceiroModal);v.criar(t).then((function(t){a.parceiros=[t.data],a.parceiro=a.parceiros[0],a.form.parceiro_id=a.form.parceiro.id,a.sucessoModal="Cliente salvo com sucesso!"})).catch((function(t){return a.erroModal=t}))},buscarTiposItem:function(){var a=this;u.listar({per_page:2e3}).then((function(t){a.tipos_item=t.data.data,a.$route.params.id>0&&a.buscarObjeto(a.$route.params.id)})).catch((function(a){return console.log(a)}))},imprimir:function(a){switch(a){case"entrada":return _.imprimirEntrada(this.form.id);case"entrega":return _.imprimirEntrega(this.form.id);case"orcamento":return _.imprimirOrcamento(this.form.id);case"laudo":return _.imprimirLaudo(this.form.id)}},abrirModalFinalizar:function(){var a=this;0==this.contas.length&&setTimeout((function(){a.buscarContas()}),150),0==this.formasPagamento.length&&setTimeout((function(){a.buscarFormasPagamento()}),50),this.form.parcelas=[],this.erros=null,this.successo=null,this.form.devolucao_data=new Date},buscarFormasPagamento:function(){var a=this;f.listar({ativo:!0,per_page:1e3}).then((function(t){return a.formasPagamento=t.data.data}))},buscarContas:function(){var a=this;this.buscandoContas=!0,p.listar({tipo:"TRANSFERENCIA",per_page:50}).then((function(t){a.contas=t.data.data.map((function(a){return{id:a.id,label:"".concat(a.codigo," | ").concat(a.nome)}}))})).finally((function(){return a.buscandoContas=!1}))},selecionarFormaPagamento:function(a){this.form.formaPagamento=a,this.form.forma_pagamento_id=a.id,a.caixa?(this.form.caixa=a.caixa,this.form.caixa_id=a.caixa.id):(this.form.caixa=null,this.form.caixa_id=""),this.gerarParcelas()},gerarParcelas:function(){if(!this.form.formaPagamento.vista||!this.form.formaPagamento.compensa_automatico||this.form.formaPagamento.dias>0){this.form.qtde_parcelas||(this.form.qtde_parcelas=1);var a=Number((this.valor_total/this.form.qtde_parcelas).toFixed(2)),t=0;this.form.parcelas=[];for(var o=i()().add(this.form.formaPagamento.dias,"days"),s=1;s<=this.form.qtde_parcelas;s++)this.form.parcelas.push({parcela:this.form.formaPagamento.vista||this.form.formaPagamento.entrada?s-1:s,parcelas:this.form.qtde_parcelas,valor:s!=this.form.qtde_parcelas?a:Number((this.valor_total-t).toFixed(2)),data_vencimento:o.toDate()}),t+=a,o=o.add(1,"months")}else this.form.qtde_parcelas=0,this.form.parcelas=null;this.$forceUpdate()},entregarEquipamento:function(){var a=this;this.erros=null,this.successo=null,this.form.valor_subtotal=this.valor_total,this.form.valor_total=this.valor_total,_.entregarEquipamento(this.form).then((function(t){a.form.valor_subtotal=t.data.valor_subtotal,a.form.valor_acrescimo=t.data.valor_acrescimo,a.form.valor_desconto=t.data.valor_desconto,a.form.valor_total=t.data.valor_total,a.form.status=t.data.status,a.form.devolucao_data=t.data.devolucao_data,a.form.devolucao_observacoes=t.data.devolucao_observacoes,a.form.devolucao_usuario_id=t.data.devolucao_usuario_id,a.sucesso="Operação realizada com sucesso!"})).catch((function(t){return a.erros=t}))},cancelar:function(){var a=this;if(this.erroCancelar=null,this.sucessoCancelar=null,this.errosTitulo="",this.$v.observacoes.$invalid)return this.erroModal="É necessário preencher o campo de observações!",this.$v.observacoes.$touch(),!1;var t={id:this.form.id,observacoes:this.observacoes};_.cancelar(t).then((function(t){a.form.status=t.data.status,a.sucessoCancelar="OS está em andamento novamente!"})).catch((function(t){return a.erroCancelar=t}))},buscarServicosItem:function(){var a=this;if(this.servicos_item.length>0)return!1;b.listar({ativo:1,per_page:1e3}).then((function(t){a.servicos_item=t.data.data.map((function(a){return a.valor_unitario=Number(a.valor_unitario),a}))})).catch((function(t){console.log("Erro ao buscar Serviços Itens: ",t,t.response),setTimeout((function(){a.buscarServicosItem()}),2e3)}))},selecionouServico:function(a){var t=this;setTimeout((function(){var o=a.servico_item.valor_unitario;a.servico_item_id=a.servico_item.id,t.cliente_tem_tabela(a)?(o=t.valor_unitario_cliente(a),a.valor_unitario=o,a.valor_selecionado="Cliente",a.servico_item.valor_unitario_cliente=o,a.valor=o):(a.valor_selecionado="Tabela",a.valor_unitario=o,a.servico_item.valor_unitario_cliente=0,a.valor=o)}),50)},cliente_tem_tabela:function(a){return!(!this.form.parceiro||!this.form.parceiro.tabela_servicos)&&(!(this.form.parceiro.tabela_servicos.map((function(a){return a.id})).indexOf(a.servico_item_id)<0)&&this.form.parceiro.tabela_servicos[this.form.parceiro.tabela_servicos.map((function(a){return a.id})).indexOf(a.servico_item_id)].pivot.valor_unitario>0)},valor_unitario_cliente:function(a){if(!this.form.parceiro||!this.form.parceiro.tabela_servicos)return-1;var t=this.form.parceiro.tabela_servicos[this.form.parceiro.tabela_servicos.map((function(a){return a.id})).indexOf(a.servico_item_id)];return t.pivot.valor_unitario>0?t.pivot.valor_unitario:t.valor_unitario},buscarTabelaServicosCliente:function(){var a=this;setTimeout((function(){v.buscarTabelaServicos(a.form.parceiro_id).then((function(t){a.form.parceiro.tabela_servicos=t.data.map((function(a){return a.pivot.valor_unitario=Number(a.pivot.valor_unitario),a.valor_unitario=Number(a.valor_unitario),a}))}))}),800)}},mounted:function(){var a=this;setTimeout((function(){a.buscarServicosItem()}),20),setTimeout((function(){a.buscarTiposItem()}),50)},computed:{editando:function(){return this.$route.params.id>0},podeAdicionarServico:function(){return!this.editando||!0},podeEditar:function(){return["AGUARDANDO RETIRADA","ENTREGUE","CANCELADO"].indexOf(this.form.status)<0},valor_total:function(){var a=this.form.servicos.filter((function(a){return"APROVADO"==a.aprovado})).reduce((function(a,t){return Number(a)+Number(t.valor)}),0);return this.form.valor_subtotal=a,this.form.valor_total=a,a},valor_total_orcamento:function(){return this.form.servicos.reduce((function(a,t){return Number(a)+Number(t.valor)}),0)}}},C=(o("aGnp"),o("KHd+")),g=Object(C.a)(h,(function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-12"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("h3",[a._v("Ordem de Serviço - EQUIPAMENTO "),a.form.id?o("span",[a._v(": "+a._s(a.form.id))]):a._e(),a._v(" "),o("div",{staticClass:"float-right"},[o("div",{staticClass:"dropdown"},[a._m(0),a._v(" "),o("div",{staticClass:"dropdown-menu dropdown-menu-right dropdown-menu-md"},[o("a",{staticClass:"dropdown-item",attrs:{href:a.imprimir("entrada"),target:"_blank"}},[a._v("\n                                            Termo de Entrada\n                                        ")]),a._v(" "),o("a",{staticClass:"dropdown-item",attrs:{href:a.imprimir("orcamento"),target:"_blank"}},[a._v("\n                                            Orçamento\n                                        ")]),a._v(" "),o("a",{staticClass:"dropdown-item",attrs:{href:a.imprimir("entrega"),target:"_blank"}},[a._v("\n                                            Termo de Entrega\n                                        ")])])])])])]),a._v(" "),o("div",{staticClass:"col-md-12 text-right"},[o("h5",[a._v("Valor Total Aprovado: "+a._s(a._f("currency")(a.form.valor_total,a.$store.state.moeda)))]),a._v(" "),o("h6",[a._v("Valor Total do Orçamento: "+a._s(a._f("currency")(a.valor_total_orcamento,a.$store.state.moeda))+" ")])]),a._v(" "),o("div",{staticClass:"col-md-12"},[o("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[a._m(1),a._v(" "),o("li",{staticClass:"nav-item"},[o("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#queixas",role:"tab","aria-selected":"false"},on:{click:function(t){return a.buscarServicosItem()}}},[o("span",{staticClass:"d-none d-sm-block"},[a._v("Solicitações / Queixas")])])]),a._v(" "),a._m(2),a._v(" "),a._m(3)]),a._v(" "),o("div",{staticClass:"tab-content p-3 text-muted"},[o("div",{staticClass:"tab-pane active",attrs:{id:"entrada",role:"tabpanel"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("h5",[a._v("Cliente")]),a._v(" "),o("p",{staticClass:"mb-0"},[o("strong",[a._v("Cliente: ")]),a._v(" "+a._s(a.form.parceiro?a.form.parceiro.razao_social:"")+" "),o("br"),a._v(" "),o("strong",[a._v("Telefone: ")]),a._v(" "+a._s(a.form.parceiro?a.form.parceiro.fone:"")+" "),o("br"),a._v(" "),o("strong",[a._v("Email: ")]),a._v(" "+a._s(a.form.parceiro?a.form.parceiro.email:"")+"\n                                        ")])]),a._v(" "),o("div",{staticClass:"col-sm-6"},[o("h5",[a._v("Situação Geral da Ordem")]),a._v(" "),o("p",{staticClass:"mb-0"},[o("strong",[a._v("Status:    ")]),a._v(" "),o("span",{staticClass:"badge badge-dark",staticStyle:{"font-size":"12px"}},[a._v(a._s(a.form.status))]),a._v(" "),"ENTREGUE"==a.form.status?o("span",[a._v("em "+a._s(a._f("dateformat")(a.form.devolucao_data)))]):a._e()]),a._v(" "),"ENTREGUE"==a.form.status&&a.form.cobranca_pendente?o("p",{staticClass:"mb-0"},[o("span",{staticClass:"badge badge-danger",staticStyle:{"font-size":"12px"}},[a._v("Cobrança Pendente")])]):a._e()]),a._v(" "),a._m(4),a._v(" "),o("div",{staticClass:"col-sm-6"},[o("h5",[a._v("Equipamento")]),a._v(" "),o("p",{staticClass:"mb-0"},[o("strong",[a._v("Equipamento: ")]),a._v(" "+a._s(a.form.descricao)+" "),o("br"),a._v(" "),o("strong",[a._v("Tipo: ")]),a._v(" "+a._s(a.form.tipo_item_os?a.form.tipo_item_os.descricao:"")+" "),o("br"),a._v(" "),o("strong",[a._v("Marca: ")]),a._v(" "+a._s(a.form.marca)),o("br"),a._v(" "),o("strong",[a._v("Modelo: ")]),a._v(" "+a._s(a.form.modelo)),o("br"),a._v(" "),o("strong",[a._v("Identificação: ")]),a._v(" "+a._s(a.form.identificacao)),o("br")])]),a._v(" "),o("div",{staticClass:"col-sm-6"},[o("h5",[a._v("Condições de Entrada")]),a._v(" "),o("p",{staticClass:"mb-0"},[o("strong",[a._v("Acessórios: ")]),a._v(" "+a._s(a.form.acessorios?a.form.acessorios:"Nenhum acessório")+" "),o("br"),a._v(" "),o("strong",[a._v("Avarias: ")]),a._v(" "+a._s(a.form.avarias?a.form.avarias:"Nenhuma avaria aparente")+" "),o("br"),a._v(" "),o("br"),a._v(" "),a._l(a.form.condicoes_entrada,(function(t){return o("span",{key:t.id,staticClass:"badge badge-dark",staticStyle:{"margin-right":"15px"}},[a._v(a._s(t.descricao))])}))],2)]),a._v(" "),o("div",{staticClass:"col-sm-12"},[o("hr"),a._v(" "),o("h5",[a._v("Serviços")]),a._v(" "),o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-nowrap table-centered mb-0"},[a._m(5),a._v(" "),o("tbody",a._l(a.form.servicos,(function(t){return o("tr",{key:t.id},[o("td",[o("div",{staticClass:"text-muted"},[a._v(a._s(t.id))])]),a._v(" "),o("td",[o("div",{staticClass:"text-muted ellipsis"},[a._v(a._s(t.queixa))])]),a._v(" "),o("td",[o("div",{staticClass:"text-muted ellipsis"},[a._v(a._s(t.servico_item.nome)+" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.descricao,expression:"s.descricao"}]},[a._v(" : "+a._s(t.descricao))])])]),a._v(" "),o("td",[o("div",{staticClass:"text-muted ellipsis"},[a._v(a._s(t.diagnostico))])]),a._v(" "),o("td",[o("div",{staticClass:"text-muted"},[a._v(a._s(a._f("currency")(t.valor,a.$store.state.moeda)))])]),a._v(" "),o("td",[o("div",{staticClass:"text-muted"},[a._v(a._s(t.garantia_dias)+" dias")])]),a._v(" "),o("td",[o("div",{staticClass:"text-muted"},["PENDENTE"==t.aprovado?o("span",{staticClass:"badge badge-dark",staticStyle:{float:"right"}},[a._v(a._s(t.aprovado))]):a._e(),a._v(" "),"APROVADO"==t.aprovado?o("span",{staticClass:"badge badge-primary",staticStyle:{float:"right"}},[a._v(a._s(t.aprovado))]):a._e(),a._v(" "),"RECUSADO"==t.aprovado?o("span",{staticClass:"badge badge-secondary",staticStyle:{float:"right"}},[a._v(a._s(t.aprovado))]):a._e()])])])})),0)])])])])]),a._v(" "),o("div",{staticClass:"tab-pane",staticStyle:{"background-color":"#f8f8fb"},attrs:{id:"queixas",role:"tabpanel"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},a._l(a.form.servicos,(function(t,s){return o("div",{key:s,staticClass:"card",staticStyle:{margin:"10px"}},[o("div",{staticClass:"card-body"},[o("h4",{staticClass:"card-title mt-0"},[a._v("Solicitação de Serviço: "+a._s(t.id)+" \n                                                    "),"PENDENTE"==t.aprovado?o("span",{staticClass:"badge badge-dark",staticStyle:{float:"right"}},[a._v(a._s(t.aprovado))]):a._e(),a._v(" "),"APROVADO"==t.aprovado?o("span",{staticClass:"badge badge-primary",staticStyle:{float:"right"}},[a._v(a._s(t.aprovado))]):a._e(),a._v(" "),"RECUSADO"==t.aprovado?o("span",{staticClass:"badge badge-secondary",staticStyle:{float:"right"}},[a._v(a._s(t.aprovado))]):a._e()]),a._v(" "),o("p",{staticClass:"card-text"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.queixa,expression:"servico.queixa"}],staticClass:"form-control",attrs:{disabled:!0,rows:"2"},domProps:{value:t.queixa},on:{input:function(o){o.target.composing||a.$set(t,"queixa",o.target.value)}}})]),a._v(" "),o("hr")]),a._v(" "),o("div",{staticClass:"card-body"},[o("form",{on:{submit:function(t){return t.preventDefault(),a.atualizarServico(s)}}},[a.podeEditar?o("div",{staticClass:"form-group row mb-4"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"horizontal-email-input"}},[a._v("Tipo de Serviço")]),a._v(" "),o("div",{staticClass:"col-sm-3"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.servico_item,expression:"servico.servico_item"}],staticClass:"form-control",on:{input:function(o){return a.selecionouServico(t)},change:function(o){var s=Array.prototype.filter.call(o.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(t,"servico_item",o.target.multiple?s:s[0])}}},[o("option",{attrs:{value:"",disabled:""}},[a._v("Selecione uma opção")]),a._v(" "),a._l(a.servicos_item,(function(t){return o("option",{key:t.id,domProps:{value:t}},[a._v(a._s(t.nome))])}))],2)]),a._v(" "),o("div",{staticClass:"col-sm-6"},[o("input-componente",{attrs:{placeholder:"Descrição do Serviço",validator:a.$v.form.servicos.$each[s].descricao},model:{value:t.descricao,callback:function(o){a.$set(t,"descricao",o)},expression:"servico.descricao"}})],1)]):a._e(),a._v(" "),a.podeEditar?o("div",{staticClass:"form-group row mb-4"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"horizontal-email-input"}},[a._v("Diagnóstico Técnico")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.diagnostico,expression:"servico.diagnostico"}],staticClass:"form-control",attrs:{disabled:!a.podeEditar,rows:"2",placeholder:"Descreva detalhadamente, esta informação será utilizada no laudo técnico!"},domProps:{value:t.diagnostico},on:{input:function(o){o.target.composing||a.$set(t,"diagnostico",o.target.value)}}})])]):a._e(),a._v(" "),a.podeEditar?o("div",{staticClass:"form-group row mb-4"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"horizontal-email-input"}},[a._v("Valor do Serviço")]),a._v(" "),o("div",{staticClass:"col-sm-3"},[o("money",a._b({staticClass:"form-control",attrs:{disabled:!a.podeEditar},model:{value:t.novo_valor,callback:function(o){a.$set(t,"novo_valor",o)},expression:"servico.novo_valor"}},"money",a.preco,!1))],1),a._v(" "),a.podeEditar?o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"horizontal-email-input"}},[a._v("Dias de Garantia")]):a._e(),a._v(" "),a.podeEditar?o("div",{staticClass:"col-sm-3"},[o("money",a._b({staticClass:"form-control",attrs:{disabled:!a.podeEditar},model:{value:t.garantia_dias,callback:function(o){a.$set(t,"garantia_dias",o)},expression:"servico.garantia_dias"}},"money",a.qtde(0),!1))],1):a._e()]):a._e(),a._v(" "),a.podeEditar?o("div",{staticClass:"form-group row mb-4"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"horizontal-firstname-input"}},[a._v("Aprovado Pelo Cliente")]),a._v(" "),o("div",{staticClass:"col-sm-3"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.novo_aprovado,expression:"servico.novo_aprovado"}],staticClass:"form-control",attrs:{disabled:!a.podeEditar},on:{change:function(o){var s=Array.prototype.filter.call(o.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(t,"novo_aprovado",o.target.multiple?s:s[0])}}},[o("option",{domProps:{value:"PENDENTE"}},[a._v("Pendente")]),a._v(" "),o("option",{domProps:{value:"APROVADO"}},[a._v("Aprovado")]),a._v(" "),o("option",{domProps:{value:"RECUSADO"}},[a._v("Recusado")])]),a._v(" "),"PENDENTE"!=t.aprovado?o("small",{staticClass:"text-muted"},[a._v(a._s(t.aprovado)+" em "+a._s(a._f("timeformat")(t.aprovado_em)))]):a._e()])]):a._e(),a._v(" "),a.podeEditar?a._e():o("div",{staticClass:"form-group row mb-4"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"horizontal-firstname-input"}},[a._v(" Informações:")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("p",[o("strong",[a._v("Diagnóstico Técnico: ")]),a._v(" "),o("span",{domProps:{innerHTML:a._s(t.diagnostico)}}),a._v(" "),o("br"),a._v(" "),o("strong",[a._v("Valor: ")]),a._v(" "),o("span",[a._v(a._s(a._f("currency")(t.valor,a.$store.state.moeda)))]),a._v(" "),o("br"),a._v(" "),o("strong",[a._v("Garantia: ")]),a._v(" "),o("span",[a._v(a._s(t.garantia_dias)+" dias")]),a._v(" "),o("br"),a._v(" "),o("strong",[a._v("Aprovação: ")]),a._v(" "),"PENDENTE"!=t.aprovado?o("span",{staticClass:"text-muted"},[a._v(a._s(t.aprovado)+" em "+a._s(a._f("timeformat")(t.aprovado_em)))]):a._e()])])]),a._v(" "),a.podeEditar?a._e():o("div",{staticClass:"form-group row mb-4"},[o("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"horizontal-email-input"}},[a._v("Observações Equipamentos")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.observacoes,expression:"servico.observacoes"}],staticClass:"form-control",attrs:{rows:"2",placeholder:"Informações Equipamentos"},domProps:{value:t.observacoes},on:{input:function(o){o.target.composing||a.$set(t,"observacoes",o.target.value)}}})])]),a._v(" "),a.podeEditar?a._e():o("div",{staticClass:"form-group row mb-4"},[a._m(6,!0),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.diagnostico,expression:"servico.diagnostico"}],staticClass:"form-control",attrs:{rows:"2",placeholder:"Descreva detalhadamente, esta informação será utilizada no laudo técnico!"},domProps:{value:t.diagnostico},on:{input:function(o){o.target.composing||a.$set(t,"diagnostico",o.target.value)}}})])]),a._v(" "),a._m(7,!0),a._v(" "),t.erros||t.sucesso?o("div",{staticClass:"form-group row justify-content-end"},[o("div",{staticClass:"col-sm-12"},[t.erros?o("mensagem-componente",{attrs:{erros:t.erros},on:{fechar:function(a){t.erros=null}}}):a._e(),a._v(" "),t.sucesso?o("mensagem-componente",{attrs:{sucesso:t.sucesso},on:{fechar:function(a){t.sucesso=null}}}):a._e()],1)]):a._e()])])])})),0),a._v(" "),o("div",{staticClass:"col-sm-12 text-left"},[a.podeAdicionarServico?o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),a.adicionarServico()}}},[o("i",{staticClass:"mdi mdi-clipboard-plus font-size-18"}),a._v(" Adicionar Serviço")]):a._e()])])]),a._v(" "),o("div",{staticClass:"tab-pane",staticStyle:{"background-color":"#f8f8fb"},attrs:{id:"messages",role:"tabpanel"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"card",staticStyle:{margin:"10px"}},[o("h4",{staticClass:"card-title mt-0"},[a._v("Observações:")]),a._v(" "),o("ul",a._l(a.form.observacoes,(function(t,s){return o("li",{key:s},[o("p",{staticClass:"mb-20",staticStyle:{"padding-left":"20px"},domProps:{innerHTML:a._s(t)}})])})),0)])]),a._v(" "),o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"card",staticStyle:{margin:"10px"}},[o("div",{staticClass:"mt-4"},[o("h5",{staticClass:"font-size-14"},[a._v("Adicionar Observações")]),a._v(" "),o("div",{staticClass:"input-group"},[o("div",{staticClass:"custom-file"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.observacoes_avulsas,expression:"observacoes_avulsas"}],staticClass:"form-control",attrs:{placeholder:"Observações avulsas"},domProps:{value:a.observacoes_avulsas},on:{input:function(t){t.target.composing||(a.observacoes_avulsas=t.target.value)}}})]),a._v(" "),o("div",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-primary",attrs:{disabled:0==a.observacoes_avulsas.length,type:"button",id:"inputGroupFileAddon04"},on:{click:function(t){return a.novaObservacaoAvulsa()}}},[a._v("Adicionar")])])])])])])])]),a._v(" "),a._m(8)])])])]),a._v(" "),o("hr"),a._v(" "),o("div",{staticClass:"row"},[a.erros||a.sucesso?o("div",{staticClass:"col-md-12 text-center"},[a.erros?o("mensagem-componente",{attrs:{titulo:a.errosTitulo,erros:a.erros},on:{fechar:function(t){a.erros=null}}}):a._e(),a._v(" "),a.sucesso?o("mensagem-componente",{attrs:{sucesso:a.sucesso},on:{fechar:function(t){a.sucesso=null}}}):a._e()],1):a._e(),a._v(" "),o("div",{staticClass:"col-md-12 button-items text-center"},[o("router-link",{staticClass:"btn btn-warning waves-effect waves-light w-sm",attrs:{title:"Voltar",to:{name:"ordemServicoEquipamento"}}},[o("i",{staticClass:"bx bx-arrow-back d-block font-size-16"}),a._v(" Voltar\n                    ")]),a._v(" "),a._m(9),a._v(" "),"ENTREGUE"!=a.form.status&&"CANCELADO"!=a.form.status?o("button",{staticClass:"btn btn-primary waves-effect waves-light w-sm",attrs:{type:"button",title:"Atualizar Status da Ordem","data-toggle":"modal","data-target":"#modal-alterar-status"},on:{click:function(t){return a.abrirModalStatus()}}},[o("i",{staticClass:"bx bx-send d-block font-size-16"}),a._v(" Atualizar Situação\n                    ")]):a._e(),a._v(" "),"ANDAMENTO"==a.form.status||"AGUARDANDO RETIRADA"==a.form.status?o("button",{staticClass:"btn btn-primary waves-effect waves-light w-sm",attrs:{type:"button",title:"Finalizar e Entregar Equipamento","data-toggle":"modal","data-target":"#modal-finalizar-nota"},on:{click:function(t){return a.abrirModalFinalizar()}}},[o("i",{staticClass:"bx bx-money d-block font-size-16"}),a._v(" Entregar Equipamento\n                    ")]):a._e(),a._v(" "),a.form.id&&"ENTREGUE"==a.form.status&&!a.sucessoCancelar?o("button",{staticClass:"btn btn-secondary waves-effect waves-light w-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#modal-cancelar",title:"Voltar para Andamento"},on:{click:function(t){return a.abrirModalStatus()}}},[o("i",{staticClass:"bx bx-rotate-left d-block font-size-16"}),a._v(" Voltar para Andamento\n                    ")]):a._e()],1)])])]),a._v(" "),o("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-adicionar-cliente",tabindex:"-1","aria-labelledby":"modal-adicionar-cliente-title","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-lg modal-dialog-scrollable",staticStyle:{"min-height":"450px"}},[o("div",{staticClass:"modal-content"},[a._m(10),a._v(" "),a.parceiroModal?o("form",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("label",{staticClass:"col-sm-3 col-form-label"},[a._v("Tipo de Pessoa")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("container-componente",{attrs:{validator:a.parceiroModal.tipo_pessoa}},[o("div",{staticClass:"form-check mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.parceiroModal.tipo_pessoa,expression:"parceiroModal.tipo_pessoa"}],staticClass:"form-check-input",attrs:{type:"radio",name:"tipo_pessoa",id:"pessoa_fisica"},domProps:{value:"FISICA",checked:a._q(a.parceiroModal.tipo_pessoa,"FISICA")},on:{change:function(t){return a.$set(a.parceiroModal,"tipo_pessoa","FISICA")}}}),a._v(" "),o("label",{staticClass:"form-check-label",attrs:{for:"pessoa_fisica"}},[a._v("\n                                        Pessoa Física\n                                    ")])]),a._v(" "),o("div",{staticClass:"form-check mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.parceiroModal.tipo_pessoa,expression:"parceiroModal.tipo_pessoa"}],staticClass:"form-check-input",attrs:{type:"radio",name:"tipo_pessoa",id:"pessoa_juridica"},domProps:{value:"JURIDICA",checked:a._q(a.parceiroModal.tipo_pessoa,"JURIDICA")},on:{change:function(t){return a.$set(a.parceiroModal,"tipo_pessoa","JURIDICA")}}}),a._v(" "),o("label",{staticClass:"form-check-label",attrs:{for:"pessoa_juridica"}},[a._v("\n                                        Pessoa Jurídica\n                                    ")])])])],1),a._v(" "),o("label",{staticClass:"col-sm-3 col-form-label"},[a._v("Apelido")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("input-componente",{attrs:{validator:a.$v.parceiroModal.apelido},on:{blur:a.$v.parceiroModal.apelido.$touch},model:{value:a.parceiroModal.apelido,callback:function(t){a.$set(a.parceiroModal,"apelido",t)},expression:"parceiroModal.apelido"}})],1),a._v(" "),o("label",{staticClass:"col-sm-3 col-form-label"},[a._v(a._s("JURIDICA"==a.parceiroModal.tipo_pessoa?"Razão Social":"Nome Completo"))]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("input-componente",{attrs:{validator:a.$v.parceiroModal.razao_social},on:{blur:a.$v.parceiroModal.razao_social.$touch},model:{value:a.parceiroModal.razao_social,callback:function(t){a.$set(a.parceiroModal,"razao_social",t)},expression:"parceiroModal.razao_social"}})],1),a._v(" "),o("label",{directives:[{name:"show",rawName:"v-show",value:"JURIDICA"==a.parceiroModal.tipo_pessoa,expression:"parceiroModal.tipo_pessoa == 'JURIDICA'"}],staticClass:"col-sm-3 col-form-label"},[a._v("Nome Fantasia")]),a._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"JURIDICA"==a.parceiroModal.tipo_pessoa,expression:"parceiroModal.tipo_pessoa == 'JURIDICA'"}],staticClass:"col-sm-9"},[o("input-componente",{attrs:{validator:a.$v.parceiroModal.nome_fantasia},on:{blur:a.$v.parceiroModal.nome_fantasia.$touch},model:{value:a.parceiroModal.nome_fantasia,callback:function(t){a.$set(a.parceiroModal,"nome_fantasia",t)},expression:"parceiroModal.nome_fantasia"}})],1),a._v(" "),o("label",{staticClass:"col-sm-3 col-form-label"},[a._v("Telefone")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("input-componente",{attrs:{mask:["(##) ####-####","(##) #####-####"],validator:a.$v.parceiroModal.fone},on:{blur:a.$v.parceiroModal.fone.$touch},model:{value:a.parceiroModal.fone,callback:function(t){a.$set(a.parceiroModal,"fone",t)},expression:"parceiroModal.fone"}})],1),a._v(" "),o("label",{staticClass:"col-sm-3 col-form-label"},[a._v("Email")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("input-componente",{attrs:{autofocus:"true",validator:a.$v.parceiroModal.email},on:{blur:a.$v.parceiroModal.email.$touch},model:{value:a.parceiroModal.email,callback:function(t){a.$set(a.parceiroModal,"email",t)},expression:"parceiroModal.email"}})],1)])]):o("div",{staticClass:"modal-body"}),a._v(" "),o("div",{staticClass:"modal-footer"},[o("div",{staticClass:"row"},[a.erroModal?o("div",{staticClass:"col-md-12"},[o("mensagem-componente",{attrs:{titulo:"Erro!",erros:a.erroModal},on:{fechar:function(t){a.erroModal=null}}})],1):a._e(),a._v(" "),a.sucessoModal?o("div",{staticClass:"col-md-12"},[o("mensagem-componente",{attrs:{sucesso:a.sucessoModal},on:{fechar:function(t){a.sucessoModal=null}}})],1):a._e()]),a._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[a._m(11),a._v(" "),a.sucessoModal?a._e():o("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!a.parceiroModal||a.$v.parceiroModal.invalid},on:{click:function(t){return t.preventDefault(),a.salvarParceiro()}}},[o("i",{staticClass:"mdi mdi-content-save font-size-18"}),a._v(" Salvar ")])])])])])])]),a._v(" "),o("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-alterar-status",tabindex:"-1","aria-labelledby":"modal-alterar-status-title","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-lg modal-dialog-scrollable",staticStyle:{"min-height":"450px"}},[o("div",{staticClass:"modal-content"},[a._m(12),a._v(" "),o("form",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("label",{staticClass:"col-sm-3 col-form-label"},[a._v("Status Atual")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("span",{staticClass:"badge badge-dark"},[a._v(a._s(a.form.status))])]),a._v(" "),o("label",{staticClass:"col-sm-3 col-form-label"},[a._v("Situação")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("div",[a.podeTrocarStatus("CANCELADO")?o("div",{staticClass:"custom-control custom-radio custom-radio-outline custom-radio-primary mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.novo_status,expression:"novo_status"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"status_cancelado",name:"novo_status"},domProps:{value:"CANCELADO",checked:a._q(a.novo_status,"CANCELADO")},on:{change:function(t){a.novo_status="CANCELADO"}}}),a._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"status_cancelado"}},[a._v("CANCELADO")])]):a._e(),a._v(" "),a.podeTrocarStatus("PENDENTE")?o("div",{staticClass:"custom-control custom-radio custom-radio-outline custom-radio-primary mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.novo_status,expression:"novo_status"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"status_pendente",name:"novo_status"},domProps:{value:"PENDENTE",checked:a._q(a.novo_status,"PENDENTE")},on:{change:function(t){a.novo_status="PENDENTE"}}}),a._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"status_pendente"}},[a._v("PENDENTE")])]):a._e(),a._v(" "),a.podeTrocarStatus("ORCAMENTO")?o("div",{staticClass:"custom-control custom-radio custom-radio-outline custom-radio-primary mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.novo_status,expression:"novo_status"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"status_orcamento",name:"novo_status"},domProps:{value:"ORCAMENTO",checked:a._q(a.novo_status,"ORCAMENTO")},on:{change:function(t){a.novo_status="ORCAMENTO"}}}),a._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"status_orcamento"}},[a._v("Orçamento Enviado Ao cliente")])]):a._e(),a._v(" "),a.podeTrocarStatus("ANDAMENTO")?o("div",{staticClass:"custom-control custom-radio custom-radio-outline custom-radio-primary mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.novo_status,expression:"novo_status"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"status_andamento",name:"novo_status"},domProps:{value:"ANDAMENTO",checked:a._q(a.novo_status,"ANDAMENTO")},on:{change:function(t){a.novo_status="ANDAMENTO"}}}),a._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"status_andamento"}},[a._v("Serviço Em Andamento (Aprovado pelo Cliente)")])]):a._e(),a._v(" "),a.podeTrocarStatus("AGUARDANDO PECA")?o("div",{staticClass:"custom-control custom-radio custom-radio-outline custom-radio-primary mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.novo_status,expression:"novo_status"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"status_aguardando_peca",name:"novo_status"},domProps:{value:"AGUARDANDO PECA",checked:a._q(a.novo_status,"AGUARDANDO PECA")},on:{change:function(t){a.novo_status="AGUARDANDO PECA"}}}),a._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"status_aguardando_peca"}},[a._v("Aguardando Peça de Fornecedor")])]):a._e(),a._v(" "),a.podeTrocarStatus("AGUARDANDO RETIRADA")?o("div",{staticClass:"custom-control custom-radio custom-radio-outline custom-radio-primary mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.novo_status,expression:"novo_status"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"status_aguardando_retirada",name:"novo_status"},domProps:{value:"AGUARDANDO RETIRADA",checked:a._q(a.novo_status,"AGUARDANDO RETIRADA")},on:{change:function(t){a.novo_status="AGUARDANDO RETIRADA"}}}),a._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"status_aguardando_retirada"}},[a._v("Pronto para Entrega")])]):a._e(),a._v(" "),a.podeTrocarStatus("ENTREGUE")?o("div",{staticClass:"custom-control custom-radio custom-radio-outline custom-radio-primary mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:a.novo_status,expression:"novo_status"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"status_aguardando_entregue",name:"novo_status"},domProps:{value:"ENTREGUE",checked:a._q(a.novo_status,"ENTREGUE")},on:{change:function(t){a.novo_status="ENTREGUE"}}}),a._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"status_aguardando_entregue"}},[a._v("ENTREGUE")])]):a._e()])]),a._v(" "),o("label",{staticClass:"col-sm-3 col-form-label"},[a._v("Observações")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("container-componente",{attrs:{validator:a.$v.observacoes}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:a.observacoes,expression:"observacoes"}],staticClass:"form-control",attrs:{rows:"4",placeholder:"Observações sobre a alteração de status"},domProps:{value:a.observacoes},on:{blur:function(t){return a.$v.observacoes.$touch()},input:function(t){t.target.composing||(a.observacoes=t.target.value)}}})])],1)])]),a._v(" "),o("div",{staticClass:"modal-footer row"},[a.erroModal||a.sucessoModal?o("div",{staticClass:"col-md-12"},[o("mensagem-componente",{attrs:{titulo:"Erro!",erros:a.erroModal},on:{fechar:function(t){a.erroModal=null}}}),a._v(" "),o("mensagem-componente",{attrs:{sucesso:a.sucessoModal},on:{fechar:function(t){a.sucessoModal=null}}})],1):a._e(),a._v(" "),o("div",{staticClass:"col-md-12 text-right"},[a._m(13),a._v(" "),a.sucessoModal?a._e():o("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!a.novo_status},on:{click:function(t){return t.preventDefault(),a.atualizarStatus()}}},[o("i",{staticClass:"mdi mdi-content-save font-size-18"}),a._v(" Atualizar ")])])])])])]),a._v(" "),o("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-finalizar-nota",tabindex:"-1","aria-labelledby":"modal-finalizar-nota-title","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-lg",staticStyle:{"min-height":"450px"}},[o("form",{staticClass:"modal-content",on:{submit:function(t){return t.preventDefault(),a.entregarEquipamento()}}},[a._m(14),a._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-8"},[o("h4",[a._v("Valor Total: "),o("strong",[a._v(a._s(a._f("currency")(a.valor_total,a.$store.state.moeda)))])])]),a._v(" "),o("div",{staticClass:"col-sm-4"},[o("container-componente",{attrs:{validator:a.$v.form.devolucao_data,label:"Data de Entrega"}},[o("date-picker",{attrs:{clearable:!1,format:"DD/MM/YYYY",disabledDate:a.desabilitaDataFutura},model:{value:a.form.devolucao_data,callback:function(t){a.$set(a.form,"devolucao_data",t)},expression:"form.devolucao_data"}})],1)],1)]),a._v(" "),o("p",[a._v("Selecione a forma de Pagamento!")]),a._v(" "),o("container-componente",{attrs:{validator:a.$v.form.forma_pagamento_id}},[o("div",{staticClass:"nav nav-pills",attrs:{id:"v-pills-tab",role:"tablist"}},a._l(a.formasPagamento,(function(t){return o("a",{key:t.id,staticClass:"nav-link",class:{active:a.form.formPagamento_id==t.id},staticStyle:{"min-width":"140px"},attrs:{id:"v-pills-payment-tab","data-toggle":"pill",href:"#v-pills-payment",role:"tab","aria-controls":"v-pills-payment","aria-selected":"false"},on:{click:function(o){return a.selecionarFormaPagamento(t)}}},[o("i",{staticClass:"bx bx-money d-block check-nav-icon mt-4 mb-2"}),a._v(" "),o("p",{staticClass:"font-weight-bold mb-4"},[a._v(a._s(t.nome))]),a._v(" "),o("small",[a._v(a._s(t.descricao))])])})),0)]),a._v(" "),a.form.formaPagamento&&a.form.formaPagamento.vista&&!a.form.formaPagamento.caixa?o("p",[o("container-componente",{attrs:{label:"Caixa de Pagamento"}},[o("vue-select",{staticStyle:{height:"calc(1.5em + 0.94rem - 6px)"},attrs:{placeholder:"Comece a digitar para buscar",options:a.contas,label:"label"},on:{search:a.buscarContasDebounce,input:function(t){a.form.caixa_id=a.form.caixa.id}},model:{value:a.form.caixa,callback:function(t){a.$set(a.form,"caixa",t)},expression:"form.caixa"}},[o("div",{attrs:{slot:"no-options"},slot:"no-options"},[a._v("Nenhum item encontrado!")]),a._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:a.buscandoContas,expression:"buscandoContas"}],staticClass:"spinner"},[a._v("Buscando...")])])],1)],1):a._e(),a._v(" "),a.form.formaPagamento&&a.form.formaPagamento.vista&&a.form.formaPagamento.caixa?o("p",[o("strong",[a._v("Caixa: ")]),a._v(" "+a._s(a.form.formaPagamento.caixa.nome)+"\n                    ")]):a._e(),a._v(" "),a.form.formaPagamento&&!a.form.formaPagamento.vista?o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5"},[o("strong",[a._v("Parcelado em \n                                "),o("select",{directives:[{name:"model",rawName:"v-model",value:a.form.qtde_parcelas,expression:"form.qtde_parcelas"}],staticClass:"form-control",on:{change:[function(t){var o=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.form,"qtde_parcelas",t.target.multiple?o:o[0])},function(t){return a.gerarParcelas()}]}},[1<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:1}},[a._v("1x ")]):a._e(),a._v(" "),2<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:2}},[a._v("2x ")]):a._e(),a._v(" "),3<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:3}},[a._v("3x ")]):a._e(),a._v(" "),4<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:4}},[a._v("4x ")]):a._e(),a._v(" "),5<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:5}},[a._v("5x ")]):a._e(),a._v(" "),6<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:6}},[a._v("6x ")]):a._e(),a._v(" "),7<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:7}},[a._v("7x ")]):a._e(),a._v(" "),8<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:8}},[a._v("8x ")]):a._e(),a._v(" "),9<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:9}},[a._v("9x ")]):a._e(),a._v(" "),10<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:10}},[a._v("10x ")]):a._e(),a._v(" "),11<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:11}},[a._v("11x ")]):a._e(),a._v(" "),12<=a.form.formaPagamento.parcelas_maximo?o("option",{domProps:{value:12}},[a._v("12x ")]):a._e()])])]),a._v(" "),o("div",{staticClass:"col-md-7"},[o("table",{staticClass:"table table-nowrap table-centered mb-0"},[a._m(15),a._v(" "),o("tbody",a._l(a.form.parcelas,(function(t){return o("tr",{key:t.parcela},[o("td",{staticClass:"text-center"},[a._v("\n                                            "+a._s(t.parcela>0?t.parcela:"Entrada")+"                                                    \n                                        ")]),a._v(" "),o("td",{staticClass:"text-center"},[o("date-picker",{attrs:{format:"DD/MM/YYYY"},on:{input:function(t){return a.$forceUpdate()}},model:{value:t.data_vencimento,callback:function(o){a.$set(t,"data_vencimento",o)},expression:"p.data_vencimento"}})],1),a._v(" "),o("td",{staticClass:"text-center"},[o("strong",[a._v(a._s(a._f("currency")(t.valor,a.$store.state.moeda)))])])])})),0)])])]):a._e(),a._v(" "),a.erros?o("mensagem-componente",{attrs:{titulo:"Erro!",erros:a.erros},on:{fechar:function(t){a.erros=null}}}):a._e(),a._v(" "),a.sucesso?o("mensagem-componente",{attrs:{sucesso:a.sucesso},on:{fechar:function(t){a.sucesso=null}}}):a._e()],1),a._v(" "),o("div",{staticClass:"modal-footer"},[a._m(16),a._v(" "),o("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!a.form.formaPagamento||!a.form.devolucao_data||a.sucesso}},[o("i",{staticClass:"mdi mdi-content-save font-size-18"}),a._v(" Salvar ")])])])])]),a._v(" "),o("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-cancelar",tabindex:"-1","aria-labelledby":"modal-cancelar-title","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-lg"},[o("div",{staticClass:"modal-content"},[a._m(17),a._v(" "),o("div",{staticClass:"modal-body"},[a.sucessoCancelar?a._e():o("p",[a._v("Tem certeza que deseja retornar a Ordem "),o("strong",[a._v(" "+a._s(a.form.id)+" ")]),a._v(" ?")]),a._v(" "),o("p",[a._v("Esta ação cancelar lançamentos financeiros!")]),a._v(" "),a.sucessoCancelar?o("div",{staticClass:"text-center"},[a._m(18),a._v(" "),o("p",{staticClass:"success text-center font-size-18"},[a._v(a._s(a.sucessoCancelar))])]):a._e(),a._v(" "),o("div",{staticClass:"row"},[o("label",{staticClass:"col-sm-3 col-form-label"},[a._v("Observações")]),a._v(" "),o("div",{staticClass:"col-sm-9"},[o("container-componente",{attrs:{validator:a.$v.observacoes}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:a.observacoes,expression:"observacoes"}],staticClass:"form-control",attrs:{rows:"4",placeholder:"Observações sobre a alteração de status"},domProps:{value:a.observacoes},on:{blur:function(t){return a.$v.observacoes.$touch()},input:function(t){t.target.composing||(a.observacoes=t.target.value)}}})])],1)]),a._v(" "),a.erroCancelar?o("mensagem-componente",{attrs:{titulo:"Erro!",erros:a.erroCancelar},on:{fechar:function(t){a.erroCancelar=null}}}):a._e()],1),a._v(" "),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:a.sucessoCancelar},on:{click:function(t){return t.preventDefault(),a.cancelar()}}},[o("i",{staticClass:"mdi mdi-trash-can font-size-18"}),a._v(" Cancelar ")]),a._v(" "),a._m(19)])])])])])}),[function(){var a=this.$createElement,t=this._self._c||a;return t("button",{staticClass:"btn btn-light dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"mdi mdi-printer mr-1"}),this._v(" "),t("span",{staticClass:"d-none d-sm-inline-block"},[this._v("Imprimir "),t("i",{staticClass:"mdi mdi-chevron-down"})])])},function(){var a=this.$createElement,t=this._self._c||a;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#entrada",role:"tab","aria-selected":"true"}},[t("span",{staticClass:"d-none d-sm-block"},[this._v("Entrada")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#messages",role:"tab","aria-selected":"false"}},[t("span",{staticClass:"d-none d-sm-block"},[this._v("Observações")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#settings",role:"tab","aria-selected":"false"}},[t("span",{staticClass:"d-none d-sm-block"},[this._v("Settings")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"col-sm-12"},[t("hr")])},function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[a._v("Id")]),a._v(" "),o("th",{attrs:{scope:"col"}},[a._v("Solicitação")]),a._v(" "),o("th",{attrs:{scope:"col"}},[a._v("Descrição")]),a._v(" "),o("th",{attrs:{scope:"col"}},[a._v("Diagnóstico")]),a._v(" "),o("th",{attrs:{scope:"col"}},[a._v("Valor")]),a._v(" "),o("th",{attrs:{scope:"col"}},[a._v("Garantia")]),a._v(" "),o("th",{attrs:{scope:"col"}},[a._v("Aprovação")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"horizontal-email-input"}},[this._v("Diagnóstico "),t("br"),this._v("(Laudo técnico)")])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"form-group row justify-content-end"},[t("div",{staticClass:"col-sm-9"},[t("div",[t("button",{staticClass:"btn btn-primary w-md",attrs:{type:"submit"}},[this._v("Atualizar Serviço")])])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"tab-pane",attrs:{id:"settings",role:"tabpanel"}},[t("p",{staticClass:"mb-0"},[this._v("\n                                    Trust fund seitan letterpress, keytar raw denim keffiyeh etsy\n                                    art party before they sold out master cleanse gluten-free squid\n                                    scenester freegan cosby sweater. Fanny pack portland seitan DIY,\n                                    art party locavore wolf cliche high life echo park Austin. Cred\n                                    vinyl keffiyeh DIY salvia PBR, banh mi before they sold out\n                                    farm-to-table VHS.\n                                ")])])},function(){var a=this.$createElement,t=this._self._c||a;return t("button",{staticClass:"btn btn-primary waves-effect waves-light w-sm",attrs:{type:"submit",title:"salvar"}},[t("i",{staticClass:"bx bxs-save d-block font-size-16"}),this._v(" Salvar\n                    ")])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title mt-0",attrs:{id:"modal-adicionar-clienteTitle"}},[this._v(" Adicionar Novo Cliente ")]),this._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t("i",{staticClass:"mdi mdi-close-circle font-size-18"}),this._v(" Fechar")])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title mt-0",attrs:{id:"modal-alterar-statusTitle"}},[this._v(" Altaração de Status ")]),this._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t("i",{staticClass:"mdi mdi-close-circle font-size-18"}),this._v(" Fechar")])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title mt-0",attrs:{id:"modal-finalizar-notaTitle"}},[this._v(" Finalização !")]),this._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[this._v("Parcela")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Data")]),this._v(" "),t("th",{staticStyle:{width:"30%"},attrs:{scope:"col"}},[this._v("Valor")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t("i",{staticClass:"mdi mdi-close-circle font-size-18"}),this._v(" Voltar")])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title mt-0",attrs:{id:"modal-cancelarTitle"}},[this._v("  Deseja realmente voltar esta Os para Andamento?")]),this._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"swal2-icon swal2-success swal2-icon-show",staticStyle:{display:"flex"}},[t("div",{staticClass:"swal2-success-circular-line-left",staticStyle:{"background-color":"rgb(255, 255, 255)"}}),this._v(" "),t("span",{staticClass:"swal2-success-line-tip"}),this._v(" "),t("span",{staticClass:"swal2-success-line-long"}),this._v(" "),t("div",{staticClass:"swal2-success-ring"}),this._v(" "),t("div",{staticClass:"swal2-success-fix",staticStyle:{"background-color":"rgb(255, 255, 255)"}}),this._v(" "),t("div",{staticClass:"swal2-success-circular-line-right",staticStyle:{"background-color":"rgb(255, 255, 255)"}})])},function(){var a=this.$createElement,t=this._self._c||a;return t("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t("i",{staticClass:"mdi mdi-close-circle font-size-18"}),this._v(" Fechar")])}],!1,null,"0398b37c",null);t.default=g.exports},"9L7X":function(a,t,o){(a.exports=o("I1BE")(!1)).push([a.i,".form-group[data-v-0398b37c]{margin-bottom:.5rem}.mb-10[data-v-0398b37c]{margin-bottom:1rem!important}.item-table[data-v-0398b37c]{width:110px;margin:0;padding:1px;border:none;text-align:right}.table td[data-v-0398b37c],table th[data-v-0398b37c]{padding:3px 5px 3px 0}.label-preco[data-v-0398b37c]{margin-top:0;padding-top:0!important}.ellipsis[data-v-0398b37c]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:250px}",""])},aGnp:function(a,t,o){"use strict";o("bbzW")},bbzW:function(a,t,o){var s=o("9L7X");"string"==typeof s&&(s=[[a.i,s,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(s,e);s.locals&&(a.exports=s.locals)}}]);
//# sourceMappingURL=38.js.map