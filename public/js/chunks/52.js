(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{DFLl:function(t,o,e){"use strict";e.r(o);var s=e("ta7f");function r(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,s)}return e}function a(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}var i=new(e("gR0X").e),c={data:function(){return{form:{id:null,codigo:"",nome:"",descricao:"",ativo:!0},sucesso:null,erros:null,errosTitulo:"",timer:null,centros:[],cidade:{}}},validations:function(){return{form:{codigo:{required:s.required,maxLength:Object(s.maxLength)(20)},nome:{required:s.required,maxLength:Object(s.maxLength)(50)},descricao:{required:s.required,maxLength:Object(s.maxLength)(200)},ativo:{required:s.required},centro_custo_id:{}}}},mounted:function(){var t=this;this.$route.params.id&&this.buscarObjeto(this.$route.params.id),setTimeout((function(){t.buscarCentros()}),400)},methods:{submit:function(){var t=this;if(this.$v.form.$touch(),this.erros=null,this.sucesso=null,this.errosTitulo="",this.$v.form.$invalid)return this.errosTitulo="Preencha o formulário corretamente, alguns campos estão com erros!",this.erros=this.$v.form,!1;var o=function(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?r(Object(e),!0).forEach((function(o){a(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}({},this.form);(o.id?i.atualizar(o):i.criar(o)).then((function(o){var e=!t.form.id;if(t.form=o.data,t.sucesso="Registro salvo com sucesso!",e){var s=String(t.$route.path).lastIndexOf("/"),r=String(t.$route.path).slice(0,s);r+="/"+t.form.id,t.$router.push(r),t.buscarObjeto(t.form.id)}})).catch((function(o){return t.erros=o}))},buscarObjeto:function(t){var o=this;i.buscar(t).then((function(t){o.form=t.data})).catch((function(t){return o.erros=t}))},buscarCentros:function(){var t=this;i.listar({ordenar:"codigo",ordem:"asc",per_page:100}).then((function(o){t.centros=o.data.data})).catch((function(o){return t.erros=o}))}}},n=e("KHd+"),l=Object(n.a)(c,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("form",{staticClass:"row",on:{submit:function(o){return o.preventDefault(),t.submit()}}},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h3",[t._v("Cadastro de Centro de Custo "),t.form.id?e("span",[t._v(": "+t._s(t.form.nome))]):t._e()])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t._m(0),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"row"},[e("label",{directives:[{name:"show",rawName:"v-show",value:t.form.id,expression:"form.id"}],staticClass:"col-sm-3 col-form-label"},[t._v("Id")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.form.id,expression:"form.id"}],staticClass:"col-sm-9"},[e("input-componente",{attrs:{disabled:!0},model:{value:t.form.id,callback:function(o){t.$set(t.form,"id",o)},expression:"form.id"}})],1),t._v(" "),e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Codigo")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input-componente",{attrs:{mask:["#","#.##","#.##.###"],validator:t.$v.form.codigo},on:{blur:t.$v.form.codigo.$touch},model:{value:t.form.codigo,callback:function(o){t.$set(t.form,"codigo",o)},expression:"form.codigo"}})],1),t._v(" "),e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Nome")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input-componente",{attrs:{validator:t.$v.form.nome},on:{blur:t.$v.form.nome.$touch},model:{value:t.form.nome,callback:function(o){t.$set(t.form,"nome",o)},expression:"form.nome"}})],1),t._v(" "),e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Descrição")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input-componente",{attrs:{validator:t.$v.form.descricao},on:{blur:t.$v.form.descricao.$touch},model:{value:t.form.descricao,callback:function(o){t.$set(t.form,"descricao",o)},expression:"form.descricao"}})],1),t._v(" "),e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Ativo:")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("container-componente",{attrs:{validator:t.$v.form.ativo}},[e("div",{staticClass:"custom-control custom-checkbox mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ativo,expression:"form.ativo"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheckativo"},domProps:{checked:Array.isArray(t.form.ativo)?t._i(t.form.ativo,null)>-1:t.form.ativo},on:{change:function(o){var e=t.form.ativo,s=o.target,r=!!s.checked;if(Array.isArray(e)){var a=t._i(e,null);s.checked?a<0&&t.$set(t.form,"ativo",e.concat([null])):a>-1&&t.$set(t.form,"ativo",e.slice(0,a).concat(e.slice(a+1)))}else t.$set(t.form,"ativo",r)}}}),t._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customCheckativo"}},[t._v(t._s(t.form.ativo?"Ativo":"Inativo"))])])])],1)])])])]),t._v(" "),e("div",{staticClass:"row"},[t.erros||t.sucesso?e("div",{staticClass:"col-md-12 text-center"},[t.erros?e("mensagem-componente",{attrs:{titulo:t.errosTitulo,erros:t.erros},on:{fechar:function(o){t.erros=null}}}):t._e(),t._v(" "),t.sucesso?e("mensagem-componente",{attrs:{sucesso:t.sucesso},on:{fechar:function(o){t.sucesso=null}}}):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"col-md-12 button-items text-center"},[e("router-link",{staticClass:"btn btn-warning waves-effect waves-light w-sm",attrs:{title:"Voltar",to:{name:"centroCustosLista"}}},[e("i",{staticClass:"bx bx-arrow-back d-block font-size-16"}),t._v(" Voltar\n                    ")]),t._v(" "),t._m(1)],1)]),t._v(" "),e("div",{staticClass:"row"},[t.form.id?e("div",{staticClass:"col-md-12 text-right"},[e("log-componente",{attrs:{index:t.form.id,subject_type:"App\\Models\\Cliente\\CentroCusto",subject_id:t.form.id}})],1):t._e()])])])])}),[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("h4",[this._v("Dados Cadastrais")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("button",{staticClass:"btn btn-primary waves-effect waves-light w-sm",attrs:{type:"submit",title:"salvar"}},[o("i",{staticClass:"bx bxs-save d-block font-size-16"}),this._v(" Salvar\n                    ")])}],!1,null,"3d3b8eb4",null);o.default=l.exports}}]);
//# sourceMappingURL=52.js.map