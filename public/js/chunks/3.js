(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"m+7n":function(t,e,r){"use strict";r.r(e);var s=r("ta7f"),a=r("vavY"),o=r("gR0X"),i=r("bPq7"),n=r("wd/R"),c=r.n(n);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m=new o.b,u={mixins:[i.a],data:function(){return{form:{id:null,name:"",identity:"",birth_date:"",gender:"",address:"",state:null,state_id:"",city:null,city_id:""},success:null,errors:null,errorsTitle:""}},validations:function(){return{form:{name:{required:s.required,maxLength:Object(s.maxLength)(200)},identity:{required:s.required,isValidCpf:a.c},birth_date:{required:s.required,isDate:a.b,isBeforeToday:a.a},gender:{required:s.required},address:{required:s.required,maxLength:Object(s.maxLength)(200)},state_id:{required:s.required},city_id:{required:s.required}}}},mounted:function(){this.$route.params.id&&this.get(this.$route.params.id)},methods:{submit:function(){var t=this;if(this.$v.form.$touch(),this.errors=null,this.success=null,this.errorsTitle="",this.$v.form.$invalid)return this.errorsTitle="Preencha o formulário corretamente, alguns campos estão com errors!",this.errors=this.$v.form,!1;var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this.form);delete e.city,delete e.state,e.birth_date=c()(e.birth_date,"DD/MM/YYYY",!0).format("YYYY-MM-DD");(e.id?m.update(e):m.store(e)).then((function(e){var r=!t.form.id;if(t.success="Registro salvo com successo!",r){var s=String(t.$route.path).lastIndexOf("/"),a=String(t.$route.path).slice(0,s);t.form.id=e.data.data.id,a+="/"+t.form.id,t.$router.push(a),t.get(t.form.id)}})).catch((function(e){return t.errors=e}))},get:function(t){var e=this;m.get(t).then((function(t){e.form=t.data.data,e.form.state=e.form.city.state,e.form.state_id=e.form.city.state.id,e.form.birth_date=c()(e.form.birth_date).format("DD/MM/YYYY")})).catch((function(t){return e.errors=t}))},searchCityLocal:function(t,e){console.log(t,e),this.form.state?this.searchCityDebounce({state_id:this.form.state.id,name:t}):Vue.$toast.error("Para buscar a cidade, selecione o estado")}}},f=r("KHd+"),v=Object(f.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[t._m(0),t._v(" "),r("hr"),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[r("div",{staticClass:"row"},[r("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Id")]),t._v(" "),r("div",{staticClass:"col-sm-4"},[r("input-component",{attrs:{disabled:!0},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),t._v(" "),r("label",{staticClass:"col-sm-2 col-form-label text-right"},[t._v("Nome")]),t._v(" "),r("div",{staticClass:"col-sm-4"},[r("input-component",{attrs:{autofocus:!0,validator:t.$v.form.name},on:{blur:t.$v.form.name.$touch},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("label",{staticClass:"col-sm-2 col-form-label"},[t._v("CPF: ")]),t._v(" "),r("div",{staticClass:"col-sm-4"},[r("input-component",{attrs:{mask:"###.###.###-##",validator:t.$v.form.identity},on:{blur:t.$v.form.identity.$touch},model:{value:t.form.identity,callback:function(e){t.$set(t.form,"identity",e)},expression:"form.identity"}})],1),t._v(" "),r("label",{staticClass:"col-sm-2 col-form-label text-right"},[t._v("Data Nascimento: ")]),t._v(" "),r("div",{staticClass:"col-sm-4"},[r("input-component",{attrs:{mask:"##/##/####",validator:t.$v.form.birth_date},on:{blur:t.$v.form.birth_date.$touch},model:{value:t.form.birth_date,callback:function(e){t.$set(t.form,"birth_date",e)},expression:"form.birth_date"}})],1),t._v(" "),r("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Sexo: ")]),t._v(" "),r("div",{staticClass:"col-sm-4"},[r("container-component",{attrs:{validator:t.$v.form.gender}},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.gender,expression:"form.gender"}],staticClass:"custom-select form-control",on:{blur:t.$v.form.gender.$touch,change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"gender",e.target.multiple?r:r[0])}}},[r("option",{domProps:{value:"MALE"}},[t._v("Masculino")]),t._v(" "),r("option",{domProps:{value:"FEMALE"}},[t._v("Feminino")])])])],1),t._v(" "),r("label",{staticClass:"col-sm-2 col-form-label text-right"},[t._v("Address")]),t._v(" "),r("div",{staticClass:"col-sm-4"},[r("input-component",{attrs:{validator:t.$v.form.address},on:{blur:t.$v.form.address.$touch},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),r("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Estado:")]),t._v(" "),r("div",{staticClass:"col-sm-4 "},[r("container-component",{attrs:{validator:t.$v.form.state_id}},[r("vue-select",{attrs:{placeholder:"Comece a digitar para buscar",options:t.states,label:"name",clearable:!1},on:{search:t.searchStateDebounce,input:function(e){t.form.state_id=t.form.state.id}},scopedSlots:t._u([{key:"option",fn:function(e){return[t._v("\n                                        "+t._s(e.sigla)+" - "+t._s(e.name)+"\n                                    ")]}}]),model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},[t._v(" "),r("div",{attrs:{slot:"no-options"},slot:"no-options"},[t._v("Nenhum item encontrado!")]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.spinnerState,expression:"spinnerState"}],staticClass:"spinner"},[t._v("Buscando...")])])],1)],1),t._v(" "),r("label",{staticClass:"col-sm-2 col-form-label text-right"},[t._v("Cidade:")]),t._v(" "),r("div",{staticClass:"col-sm-4 "},[r("container-component",{attrs:{validator:t.$v.form.city_id}},[r("vue-select",{attrs:{placeholder:"Comece a digitar para buscar",options:t.cities,label:"name",clearable:!1,disabled:!t.form.state},on:{search:t.searchCityLocal,input:function(e){t.form.city_id=t.form.city.id}},scopedSlots:t._u([{key:"option",fn:function(e){return[t._v("\n                                        "+t._s(e.name)+"\n                                    ")]}}]),model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}},[t._v(" "),r("div",{attrs:{slot:"no-options"},slot:"no-options"},[t._v("Nenhum item encontrado!")]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.spinnerCity,expression:"spinnerCity"}],staticClass:"spinner"},[t._v("Buscando...")])])],1)],1)]),t._v(" "),r("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[t.errors||t.success?r("div",{staticClass:"col-md-12 text-center"},[t.errors?r("message-component",{attrs:{titulo:t.errorsTitle,erros:t.errors},on:{fechar:function(e){t.errors=null}}}):t._e(),t._v(" "),t.success?r("message-component",{attrs:{sucesso:t.success},on:{fechar:function(e){t.success=null}}}):t._e()],1):t._e(),t._v(" "),r("div",{staticClass:"col-md-12 button-items text-center"},[r("router-link",{staticClass:"btn btn-warning waves-effect waves-light w-sm",attrs:{title:"Voltar",to:{name:"customers.index"}}},[r("i",{staticClass:"bx bx-arrow-back d-block font-size-16"}),t._v(" Voltar\n                            ")]),t._v(" "),t._m(1)],1)]),t._v(" "),t.form.id?r("div",{staticClass:"row",staticStyle:{"margin-top":"40px"}},[r("div",{staticClass:"col-md-12  text-right flex info"},[t._v("\n                           Criado Em: "),r("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t._f("timeformat")(t.form.created_at)))]),r("br"),t._v("\n                           Atualizado Em: "),r("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t._f("timeformat")(t.form.updated_at)))]),r("br")])]):t._e()])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h3",[this._v("Cadastro de Cliente ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-primary waves-effect waves-light w-sm",attrs:{type:"submit",title:"salvar"}},[e("i",{staticClass:"bx bxs-save d-block font-size-16"}),this._v(" Salvar\n                            ")])}],!1,null,"4136b961",null);e.default=v.exports}}]);
//# sourceMappingURL=3.js.map