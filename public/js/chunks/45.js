(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"8vVW":function(t,o,a){"use strict";a.r(o);var s=a("ta7f"),e=a("vavY"),r=a("gR0X"),i=a("wd/R"),l=a.n(i),n=a("c3KP");function c(t,o){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.push.apply(a,s)}return a}function d(t){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?c(Object(a),!0).forEach((function(o){m(t,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(a,o))}))}return t}function m(t,o,a){return o in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,t}var u=new r.C,v=new r.k,f={components:{container:n.a},data:function(){return{form:{id:null,nome:"",sobrenome:"",cpf:"",rg:"",rg_estado:"",email_verified_at:"",password:"",confirm_password:"",remember_token:"",cidade_id:"",endereco_tipo:"",logradouro:"",numero:"",complemento:"",bairro:"",cep:"",fone:"",sexo:"",data_nascimento:"",email:"",dono_assinatura:!1,ativo:!0},formSenha:{newPassword:"",confirmPassword:""},sucesso:null,erros:null,errosTitulo:"",errosRoles:null,sucessoRoles:null,roles:[],roleModal:null,rolesBusca:[],timer:null,buscandoRole:!0,cidades:[],cidade:{},errosSenha:null,sucessoSenha:null}},validations:{form:{nome:{required:s.required,maxLength:Object(s.maxLength)(200)},sobrenome:{required:s.required,maxLength:Object(s.maxLength)(200)},cpf:{maxLength:Object(s.maxLength)(20),validarCpf:e.c},rg:{maxLength:Object(s.maxLength)(20)},rg_estado:{},cidade_id:{},endereco_tipo:{},logradouro:{maxLength:Object(s.maxLength)(100)},numero:{maxLength:Object(s.maxLength)(10)},complemento:{maxLength:Object(s.maxLength)(100)},bairro:{maxLength:Object(s.maxLength)(100)},cep:{maxLength:Object(s.maxLength)(10)},fone:{required:s.required,maxLength:Object(s.maxLength)(20)},sexo:{},data_nascimento:{notInFuture:e.a},email:{required:s.required,maxLength:Object(s.maxLength)(150),email:s.email},dono_assinatura:{required:s.required},ativo:{required:s.required},password:{required:Object(s.requiredIf)((function(){return!this.form.id})),sameAs:Object(s.sameAs)("confirm_password")},confirm_password:{sameAs:Object(s.sameAs)("password")}},formSenha:{newPassword:{required:s.required,minLength:Object(s.minLength)(6),maxLength:Object(s.maxLength)(20)},confirmPassword:{required:s.required,sameAs:Object(s.sameAs)("newPassword")}}},mounted:function(){this.$route.params.id&&this.buscarObjeto(this.$route.params.id)},methods:{submit:function(){var t=this;if(this.$v.form.$touch(),this.erros=null,this.sucesso=null,this.errosTitulo="",this.$v.form.$invalid)return this.errosTitulo="Preencha o formulário corretamente, alguns campos estão com erros!",this.erros=this.$v.form,!1;var o=d({},this.form);o.data_nascimento&&(o.data_nascimento=l()(o.data_nascimento,"DD/MM/YYYY").format("YYYY-MM-DD"));(o.id?u.atualizar(o):u.criar(o)).then((function(o){var a=!t.form.id;if(t.form.id=o.data.id,t.sucesso="Registro salvo com sucesso!",a){var s=String(t.$route.path).lastIndexOf("/"),e=String(t.$route.path).slice(0,s);e+="/"+t.form.id,t.$router.push(e),t.buscarObjeto(t.form.id)}})).catch((function(o){return t.erros=o}))},buscarObjeto:function(t){var o=this;u.buscar(t).then((function(t){o.form=t.data,o.roles=t.data.roles,o.form.data_nascimento=o.form.data_nascimento?l()(o.form.data_nascimento).format("DD/MM/YYYY"):"",o.cidade=t.data.cidade?{id:t.data.cidade.id,nome:t.data.cidade.nome,sigla:t.data.cidade.estado.sigla}:{}})).catch((function(t){return o.erros=t}))},buscarCep:function(){var t=this;v.buscarEnderecoPorCep(this.form.cep).then((function(o){console.log(o),o.data.logradouro?(t.form.logradouro=o.data.logradouro.substr(o.data.logradouro.indexOf(" ")+1),t.form.endereco_tipo=o.data.logradouro.substr(0,o.data.logradouro.indexOf(" "))):(t.form.logradouro="",t.form.endereco_tipo=""),t.form.bairro=o.data.bairro,v.buscarCidadePorIbge(o.data.ibge).then((function(o){console.log(o.data),t.cidade={id:o.data.id,nome:o.data.nome,sigla:o.data.estado.sigla},t.form.cidade_id=t.cidade.id,t.cidades=[]})).catch((function(t){console.log(t)}))})).catch((function(t){}))},buscarCidadesDebounce:function(t,o){var a=this;clearTimeout(this.timer),this.timer=setTimeout((function(){a.buscarCidades(t,o)}),700)},buscarCidades:function(t,o){var a=this;v.listarCidadesBusca({texto:t}).then((function(t){return a.cidades=t.data.data})).catch((function(t){return console.log(t)}))},abrirModalTrocarSenha:function(){this.$v.formSenha.$reset(),this.formSenha.newPassword="",this.formSenha.confirmPassword="",this.errosSenha=null,this.sucessoSenha=null},trocarSenha:function(){var t=this;if(this.errosSenha=null,this.sucessoSenha=null,this.$v.formSenha.$touch(),this.$v.formSenha.$invalid)return!1;u.changePass(d(d({},this.formSenha),{},{id:this.form.id})).then((function(o){t.abrirModalTrocarSenha(),t.sucessoSenha="Senha Alterada com sucesso!"})).catch((function(o){return t.errosSenha=o}))},abrirModalDesvincular:function(t){this.sucessoRoles=null,this.errosRoles=null,this.roleModal=d({},t)},desvincularRole:function(){var t=this;this.sucessoRoles=null,this.errosRoles=null,u.desvincularGrupo(this.form.id,this.roleModal.id).then((function(o){t.roles=t.roles.filter((function(o){return o.id!=t.roleModal.id})),t.sucessoRoles="Grupo "+t.roleModal.name+" desvinculado com sucesso!"})).catch((function(o){return t.errosRoles=o}))},abrirModalVincular:function(){this.sucessoRoles=null,this.errosRoles=null,this.roleModal=null,this.buscarRoles()},vincularRole:function(){var t=this;this.sucessoRoles=null,this.errosRoles=null,u.vincularGrupo(this.form.id,this.roleModal.id).then((function(o){t.roles.push(d({},o.data)),t.sucessoRoles="Grupo: ".concat(o.data.name," vinculado com sucesso!")})).catch((function(o){return t.errosRoles=o}))},buscarRolesDebounce:function(t,o){var a=this;clearTimeout(this.timer),this.timer=setTimeout((function(){a.buscarRoles(t,o)}),700)},buscarRoles:function(t,o){var a=this;this.rolesBusca=[],this.buscandoRole=!0,u.listarGrupos({texto:t,per_page:50,user_id:this.form.id}).then((function(t){return a.rolesBusca=t.data.data})).catch((function(t){return a.errosRoles=t})).finally((function(){return a.buscandoRole=!1}))}}},_=a("KHd+"),p=Object(_.a)(f,(function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("form",{staticClass:"card-body",on:{submit:function(o){return o.preventDefault(),t.submit()}}},[t._m(0),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Id")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{disabled:!0},model:{value:t.form.id,callback:function(o){t.$set(t.form,"id",o)},expression:"form.id"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Email")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{autofocus:"true",validator:t.$v.form.email},on:{blur:t.$v.form.email.$touch},model:{value:t.form.email,callback:function(o){t.$set(t.form,"email",o)},expression:"form.email"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Nome")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.nome},on:{blur:t.$v.form.nome.$touch},model:{value:t.form.nome,callback:function(o){t.$set(t.form,"nome",o)},expression:"form.nome"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Sobrenome")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.sobrenome},on:{blur:t.$v.form.sobrenome.$touch},model:{value:t.form.sobrenome,callback:function(o){t.$set(t.form,"sobrenome",o)},expression:"form.sobrenome"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Telefone")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{mask:["(##) ####-####","(##) #####-####"],validator:t.$v.form.fone},on:{blur:t.$v.form.fone.$touch},model:{value:t.form.fone,callback:function(o){t.$set(t.form,"fone",o)},expression:"form.fone"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("CPF")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{mask:["###.###.###-##"],validator:t.$v.form.cpf},on:{blur:t.$v.form.cpf.$touch},model:{value:t.form.cpf,callback:function(o){t.$set(t.form,"cpf",o)},expression:"form.cpf"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("RG:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.rg},on:{blur:t.$v.form.rg.$touch},model:{value:t.form.rg,callback:function(o){t.$set(t.form,"rg",o)},expression:"form.rg"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Estado emissor RG:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("container-componente",{attrs:{validator:t.$v.form.rg_estado}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.rg_estado,expression:"form.rg_estado"}],staticClass:"form-control",on:{blur:t.$v.form.rg_estado.$touch,change:function(o){var a=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"rg_estado",o.target.multiple?a:a[0])}}},[a("option",{domProps:{value:"AC"}},[t._v("Acre")]),t._v(" "),a("option",{domProps:{value:"AL"}},[t._v("Alagoas")]),t._v(" "),a("option",{domProps:{value:"AP"}},[t._v("Amapá")]),t._v(" "),a("option",{domProps:{value:"AM"}},[t._v("Amazonas")]),t._v(" "),a("option",{domProps:{value:"BA"}},[t._v("Bahia")]),t._v(" "),a("option",{domProps:{value:"CE"}},[t._v("Ceará")]),t._v(" "),a("option",{domProps:{value:"DF"}},[t._v("Distrito Federal")]),t._v(" "),a("option",{domProps:{value:"ES"}},[t._v("Espírito Santo")]),t._v(" "),a("option",{domProps:{value:"GO"}},[t._v("Goiás")]),t._v(" "),a("option",{domProps:{value:"MA"}},[t._v("Maranhão")]),t._v(" "),a("option",{domProps:{value:"MT"}},[t._v("Mato Grosso")]),t._v(" "),a("option",{domProps:{value:"MS"}},[t._v("Mato Grosso do Sul")]),t._v(" "),a("option",{domProps:{value:"MG"}},[t._v("Minas Gerais")]),t._v(" "),a("option",{domProps:{value:"PA"}},[t._v("Pará")]),t._v(" "),a("option",{domProps:{value:"PB"}},[t._v("Paraíba")]),t._v(" "),a("option",{domProps:{value:"PR"}},[t._v("Paraná")]),t._v(" "),a("option",{domProps:{value:"PE"}},[t._v("Pernambuco")]),t._v(" "),a("option",{domProps:{value:"PI"}},[t._v("Piauí")]),t._v(" "),a("option",{domProps:{value:"RJ"}},[t._v("Rio de Janeiro")]),t._v(" "),a("option",{domProps:{value:"RN"}},[t._v("Rio Grande do Norte")]),t._v(" "),a("option",{domProps:{value:"RS"}},[t._v("Rio Grande do Sul")]),t._v(" "),a("option",{domProps:{value:"RO"}},[t._v("Rondônia")]),t._v(" "),a("option",{domProps:{value:"RR"}},[t._v("Roraima")]),t._v(" "),a("option",{domProps:{value:"SC"}},[t._v("Santa Catarina")]),t._v(" "),a("option",{domProps:{value:"SP"}},[t._v("São Paulo")]),t._v(" "),a("option",{domProps:{value:"SE"}},[t._v("Sergipe")]),t._v(" "),a("option",{domProps:{value:"TO"}},[t._v("Tocantins")])])])],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Data Nascimento:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{mask:"##/##/####",validator:t.$v.form.data_nascimento},on:{blur:t.$v.form.data_nascimento.$touch},model:{value:t.form.data_nascimento,callback:function(o){t.$set(t.form,"data_nascimento",o)},expression:"form.data_nascimento"}})],1)]),t._v(" "),a("hr"),t._v(" "),t._m(1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Cep:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{mask:["#####-###"],validator:t.$v.form.cep},on:{blur:function(o){t.$v.form.cep.$touch,t.buscarCep()}},model:{value:t.form.cep,callback:function(o){t.$set(t.form,"cep",o)},expression:"form.cep"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Tipo:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("container-componente",{attrs:{validator:t.$v.form.endereco_tipo}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.endereco_tipo,expression:"form.endereco_tipo"}],staticClass:"form-control",on:{change:function(o){var a=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"endereco_tipo",o.target.multiple?a:a[0])}}},[a("option",{domProps:{value:"Alameda"}},[t._v("Alameda")]),t._v(" "),a("option",{domProps:{value:"Avenida"}},[t._v("Avenida")]),t._v(" "),a("option",{domProps:{value:"Estrada"}},[t._v("Estrada")]),t._v(" "),a("option",{domProps:{value:"Morro"}},[t._v("Morro")]),t._v(" "),a("option",{domProps:{value:"Parque"}},[t._v("Parque")]),t._v(" "),a("option",{domProps:{value:"Pátio"}},[t._v("Pátio")]),t._v(" "),a("option",{domProps:{value:"Praça"}},[t._v("Praça")]),t._v(" "),a("option",{domProps:{value:"Rodovia"}},[t._v("Rodovia")]),t._v(" "),a("option",{domProps:{value:"Travessa"}},[t._v("Travessa")]),t._v(" "),a("option",{domProps:{value:"Rua"}},[t._v("Rua")])])])],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Logradouro:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.logradouro},on:{blur:t.$v.form.logradouro.$touch},model:{value:t.form.logradouro,callback:function(o){t.$set(t.form,"logradouro",o)},expression:"form.logradouro"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Número:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.numero},on:{blur:t.$v.form.numero.$touch},model:{value:t.form.numero,callback:function(o){t.$set(t.form,"numero",o)},expression:"form.numero"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Bairro:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.bairro},on:{blur:t.$v.form.bairro.$touch},model:{value:t.form.bairro,callback:function(o){t.$set(t.form,"bairro",o)},expression:"form.bairro"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Cidade:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("container-componente",{attrs:{validator:t.$v.form.cidade_id}},[a("vue-select",{staticStyle:{height:"calc(1.5em + 0.94rem - 6px)"},attrs:{placeholder:"Comece a digitar para buscar",options:t.cidades,label:"nome"},on:{input:function(o){t.form.cidade_id=t.cidade.id},blur:function(o){t.$v.form.cidade_id.$touch},search:t.buscarCidadesDebounce},scopedSlots:t._u([{key:"option",fn:function(o){return[t._v("\n                                        "+t._s(o.nome)+" / "+t._s(o.sigla)+"\n                                    ")]}}]),model:{value:t.cidade,callback:function(o){t.cidade=o},expression:"cidade"}},[t._v(" "),a("div",{attrs:{slot:"no-options"},slot:"no-options"},[t._v("Nenhum item encontrado!")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.buscandoRole,expression:"buscandoRole"}],staticClass:"spinner"},[t._v("Buscando...")])])],1)],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Complemento:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.complemento},on:{blur:t.$v.form.complemento.$touch},model:{value:t.form.complemento,callback:function(o){t.$set(t.form,"complemento",o)},expression:"form.complemento"}})],1)]),t._v(" "),a("hr"),t._v(" "),t._m(2),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Dono da Assinatura:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("container-componente",{attrs:{validator:t.$v.form.dono_assinatura}},[a("div",{staticClass:"custom-control custom-checkbox mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.dono_assinatura,expression:"form.dono_assinatura"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck1"},domProps:{checked:Array.isArray(t.form.dono_assinatura)?t._i(t.form.dono_assinatura,null)>-1:t.form.dono_assinatura},on:{change:function(o){var a=t.form.dono_assinatura,s=o.target,e=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&t.$set(t.form,"dono_assinatura",a.concat([null])):r>-1&&t.$set(t.form,"dono_assinatura",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.form,"dono_assinatura",e)}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"customCheck1"}},[t._v(t._s(t.form.dono_assinatura?"Sim":"Não"))])])])],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Ativo:")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("container-componente",{attrs:{validator:t.$v.form.ativo}},[a("div",{staticClass:"custom-control custom-checkbox mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ativo,expression:"form.ativo"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck2"},domProps:{checked:Array.isArray(t.form.ativo)?t._i(t.form.ativo,null)>-1:t.form.ativo},on:{change:function(o){var a=t.form.ativo,s=o.target,e=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&t.$set(t.form,"ativo",a.concat([null])):r>-1&&t.$set(t.form,"ativo",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.form,"ativo",e)}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"customCheck2"}},[t._v(t._s(t.form.ativo?"Ativo":"Inativo"))])])])],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Senha de Acesso:")]),t._v(" "),t.form.id?a("div",{staticClass:"col-sm-9",staticStyle:{"margin-bottom":"18px"}},[a("button",{staticClass:"btn btn-dark waves-effect btn-label waves-light",attrs:{type:"button","data-toggle":"modal","data-backdrop":"static","data-target":"#bs-modal-trocar-senha-usuario"},on:{click:function(o){return o.preventDefault(),t.abrirModalTrocarSenha()}}},[a("i",{staticClass:"bx bx-block label-icon "}),t._v(" Alterar Senha\n                        ")])]):t._e(),t._v(" "),t.form.id?t._e():a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.password},on:{blur:t.$v.form.password.$touch},model:{value:t.form.password,callback:function(o){t.$set(t.form,"password",o)},expression:"form.password"}})],1),t._v(" "),a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Confirme a senha:")]),t._v(" "),t.form.id?t._e():a("div",{staticClass:"col-sm-9"},[a("input-componente",{attrs:{validator:t.$v.form.confirm_password},on:{blur:t.$v.form.confirm_password.$touch},model:{value:t.form.confirm_password,callback:function(o){t.$set(t.form,"confirm_password",o)},expression:"form.confirm_password"}})],1)]),t._v(" "),a("div",{staticClass:"row"},[t.erros||t.sucesso?a("div",{staticClass:"col-md-12 text-center"},[t.erros?a("mensagem-componente",{attrs:{titulo:t.errosTitulo,erros:t.erros},on:{fechar:function(o){t.erros=null}}}):t._e(),t._v(" "),t.sucesso?a("mensagem-componente",{attrs:{sucesso:t.sucesso},on:{fechar:function(o){t.sucesso=null}}}):t._e()],1):t._e(),t._v(" "),a("div",{staticClass:"col-md-12 button-items text-center"},[a("router-link",{staticClass:"btn btn-warning waves-effect waves-light w-sm",attrs:{title:"Voltar",to:{name:"usuariosLista"}}},[a("i",{staticClass:"bx bx-arrow-back d-block font-size-16"}),t._v(" Voltar\n                        ")]),t._v(" "),t._m(3)],1)])])])]),t._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[a("h4",{staticClass:"mb-0 font-size-18"},[t._v("Grupos vinculados")]),t._v(" "),a("div",{staticClass:"page-title-right"},[a("button",{staticClass:"btn btn-outline-primary waves-effect waves-light",attrs:{type:"button","data-toggle":"modal",disabled:!t.form.id,"data-target":"#modal-adicionar","data-backdrop":"static"},on:{click:t.abrirModalVincular}},[a("i",{staticClass:"bx bxs-plus-square font-size-16 align-middle mr-2"}),t._v(" Adicionar\n                                ")])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table mb-0"},[t._m(4),t._v(" "),a("tbody",t._l(t.roles,(function(o){return a("tr",{key:o.id},[a("td",[t._v(t._s(o.name)+" / "+t._s(o.guard_name))]),t._v(" "),a("td",[t._v(t._s(o.description))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-outline-danger waves-effect waves-light",staticStyle:{padding:"3px 12px 3px 12px"},attrs:{type:"button",title:"Desvincular","data-toggle":"modal","data-target":"#modal-delete","data-backdrop":"static"},on:{click:function(a){return t.abrirModalDesvincular(o)}}},[a("i",{staticClass:"mdi mdi-trash-can d-block font-size-12"})]),t._v(" "),a("button",{staticClass:"btn btn-outline-primary waves-effect waves-light",staticStyle:{padding:"3px 12px 3px 12px"},attrs:{type:"button",title:"Ver Permissões","data-toggle":"modal","data-target":"#modal-ver-permissoes","data-backdrop":"static"},on:{click:function(a){return t.abrirModalDesvincular(o)}}},[a("i",{staticClass:"mdi mdi-monitor-eye d-block font-size-12"})])])])})),0)])])])])])])]),t._v(" "),t.form.id?a("div",{staticClass:"col-md-12 text-right"},[a("log-componente",{attrs:{subject_type:"App\\Models\\Cliente\\UsuarioCliente",subject_id:t.form.id}})],1):t._e(),t._v(" "),a("div",{staticClass:"modal fade ",attrs:{id:"bs-modal-trocar-senha-usuario",tabindex:"-1",role:"dialog","aria-labelledby":"mySmallModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(5),t._v(" "),a("form",{staticClass:"modal-body",on:{submit:function(o){return o.preventDefault(),t.trocarSenha()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("input-componente",{attrs:{label:"Nova Senha",type:"password",validator:t.$v.formSenha.newPassword},on:{blur:t.$v.formSenha.newPassword.$touch},model:{value:t.formSenha.newPassword,callback:function(o){t.$set(t.formSenha,"newPassword",o)},expression:"formSenha.newPassword"}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("input-componente",{attrs:{label:"Confirmar Senha",type:"password",validator:t.$v.formSenha.confirmPassword},on:{blur:t.$v.formSenha.confirmPassword.$touch},model:{value:t.formSenha.confirmPassword,callback:function(o){t.$set(t.formSenha,"confirmPassword",o)},expression:"formSenha.confirmPassword"}})],1)]),t._v(" "),a("div",{staticClass:"row"},[t.errosSenha||t.sucessoSenha?a("div",{staticClass:"col-md-12"},[t.errosSenha?a("mensagem-componente",{attrs:{erros:t.errosSenha},on:{fechar:function(o){t.errosSenha=null}}}):t._e(),t._v(" "),t.sucessoSenha?a("mensagem-componente",{attrs:{sucesso:t.sucessoSenha},on:{fechar:function(o){t.sucessoSenha=null}}}):t._e()],1):t._e(),t._v(" "),a("div",{staticClass:"col-md-4"}),t._v(" "),t._m(6),t._v(" "),t._m(7)])])])])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-ver-permissoes",tabindex:"-1","aria-labelledby":"modal-ver-permissoes-title","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-xl"},[a("div",{staticClass:"modal-content"},[t._m(8),t._v(" "),t.roleModal?a("div",{staticClass:"modal-body"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table mb-0"},[t._m(9),t._v(" "),a("tbody",t._l(t.roleModal.permissions,(function(o){return a("tr",{key:o.id},[a("td",[t._v(t._s(o.name)+" / "+t._s(o.guard_name))]),t._v(" "),a("td",[t._v(t._s(o.description))])])})),0)])])]):a("div",{staticClass:"modal-body"}),t._v(" "),t._m(10)])])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-delete",tabindex:"-1","aria-labelledby":"modal-delete-title","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-scrollable"},[a("div",{staticClass:"modal-content"},[t._m(11),t._v(" "),t.roleModal?a("div",{staticClass:"modal-body"},[t.sucessoRoles?t._e():a("p",[t._v("Tem certeza que deseja descinvular o grupo "),a("strong",[t._v(t._s(t.roleModal.name))]),t._v(" deste usuário?")]),t._v(" "),t.sucessoRoles?a("div",{staticClass:"text-center"},[t._m(12),t._v(" "),a("p",{staticClass:"success text-center font-size-18"},[t._v(t._s(t.sucessoRoles))])]):t._e(),t._v(" "),t.errosRoles?a("mensagem-componente",{attrs:{titulo:"Erro!",erros:t.errosRoles},on:{fechar:function(o){t.errosRoles=null}}}):t._e()],1):a("div",{staticClass:"modal-body"}),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.sucessoRoles||!t.roleModal},on:{click:function(o){return o.preventDefault(),t.desvincularRole()}}},[a("i",{staticClass:"mdi mdi-trash-can font-size-18"}),t._v(" Sim ")]),t._v(" "),t._m(13)])])])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-adicionar",tabindex:"-1","aria-labelledby":"modal-adicionar-title","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-scrollable"},[a("div",{staticClass:"modal-content"},[t._m(14),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Grupo")]),t._v(" "),a("vue-select",{staticStyle:{height:"calc(1.5em + 0.94rem - 6px)"},attrs:{placeholder:"Comece a digitar para buscar",options:t.rolesBusca,disabled:t.sucessoRoles,label:"name"},on:{search:t.buscarRolesDebounce},scopedSlots:t._u([{key:"option",fn:function(o){return[t._v("\n                                        "+t._s(o.name)+" | "+t._s(o.guard_name)+"\n                                    ")]}}]),model:{value:t.roleModal,callback:function(o){t.roleModal=o},expression:"roleModal"}},[t._v(" "),a("div",{attrs:{slot:"no-options"},slot:"no-options"},[t._v("Nenhum item encontrado!")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.buscandoRole,expression:"buscandoRole"}],staticClass:"spinner"},[t._v("Buscando...")])])],1)]),t._v(" "),t.roleModal&&t.roleModal.id?a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Guarda")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.roleModal.guard_name}})])]):t._e(),t._v(" "),t.roleModal&&t.roleModal.id?a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Descrição")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.roleModal.description}})])]):a("div",{staticClass:"col-md-12",staticStyle:{height:"100px"}})]),t._v(" "),t.errosRoles||t.sucessoRoles?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 text-center"},[t.errosRoles?a("mensagem-componente",{attrs:{erros:t.errosRoles},on:{fechar:function(o){t.errosRoles=null}}}):t._e(),t._v(" "),t.sucessoRoles?a("mensagem-componente",{attrs:{sucesso:t.sucessoRoles},on:{fechar:function(o){t.sucessoRoles=null}}}):t._e()],1)]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer"},[t.sucessoRoles?a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(o){return o.preventDefault(),t.abrirModalVincular()}}},[a("i",{staticClass:"bx bxs-plus-square font-size-18"}),t._v(" Vincular Outra ")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.sucessoRoles||!t.roleModal},on:{click:function(o){return o.preventDefault(),t.vincularRole()}}},[a("i",{staticClass:"bx bxs-save font-size-18"}),t._v(" Vincular ")]),t._v(" "),t._m(15)])])])])])}),[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("h3",[this._v("Cadastro de Usuário")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("h4",[this._v("Endereço")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("h4",[this._v("Outras informações")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("button",{staticClass:"btn btn-primary waves-effect waves-light w-sm",attrs:{type:"submit",title:"salvar"}},[o("i",{staticClass:"bx bxs-save d-block font-size-16"}),this._v(" Salvar\n                        ")])},function(){var t=this.$createElement,o=this._self._c||t;return o("thead",[o("tr",[o("th",[this._v("Name")]),this._v(" "),o("th",[this._v("Descrição")]),this._v(" "),o("th",[this._v("#")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title mt-0"},[this._v("Trocar Senha")]),this._v(" "),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"col-md-4"},[o("button",{staticClass:"btn btn-block btn-outline-secondary waves-effect",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[this._v("Fechar ")])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"col-md-4"},[o("button",{staticClass:"btn btn-block btn-primary waves-effect waves-light",attrs:{type:"submit"}},[this._v("Trocar Senha ")])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"modal-header"},[o("h4",{staticClass:"modal-title mt-0",attrs:{id:"modal-ver-permissoesTitle"}},[this._v("  Permissões vinculadas")]),this._v(" "),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("thead",[o("tr",[o("th",[this._v("Name")]),this._v(" "),o("th",[this._v("Descrição")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[o("i",{staticClass:"mdi mdi-close-thick font-size-18"}),this._v(" Voltar")])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"modal-header"},[o("h4",{staticClass:"modal-title mt-0",attrs:{id:"modal-deleteTitle"}},[this._v("  Confirmação de Exclusão de Registro")]),this._v(" "),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"swal2-icon swal2-success swal2-icon-show",staticStyle:{display:"flex"}},[o("div",{staticClass:"swal2-success-circular-line-left",staticStyle:{"background-color":"rgb(255, 255, 255)"}}),this._v(" "),o("span",{staticClass:"swal2-success-line-tip"}),this._v(" "),o("span",{staticClass:"swal2-success-line-long"}),this._v(" "),o("div",{staticClass:"swal2-success-ring"}),this._v(" "),o("div",{staticClass:"swal2-success-fix",staticStyle:{"background-color":"rgb(255, 255, 255)"}}),this._v(" "),o("div",{staticClass:"swal2-success-circular-line-right",staticStyle:{"background-color":"rgb(255, 255, 255)"}})])},function(){var t=this.$createElement,o=this._self._c||t;return o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[o("i",{staticClass:"mdi mdi-close-thick font-size-18"}),this._v(" Voltar")])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"modal-header"},[o("h4",{staticClass:"modal-title mt-0",attrs:{id:"modal-adicionarTitle"}},[this._v("  Selecione um novo grupo")]),this._v(" "),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,o=this._self._c||t;return o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[o("i",{staticClass:"bx bx-window-close font-size-18"}),this._v(" Voltar")])}],!1,null,"7438c256",null);o.default=p.exports},vavY:function(t,o,a){"use strict";a.d(o,"c",(function(){return i})),a.d(o,"b",(function(){return l})),a.d(o,"a",(function(){return n}));var s=a("wd/R"),e=a.n(s),r=a("ta7f"),i=r.helpers.withParams({type:"cpfValidator"},(function(t){return c(t)})),l=r.helpers.withParams({type:"cnpjValidator"},(function(t){return d(t)})),n=r.helpers.withParams({type:"InvalidDate"},(function(t){return!t||0==t.length||!(t.length<8)&&(t.length,e()(t,"DD/MM/YYYY").isSameOrBefore())})),c=function(t){if(!t||0==t.length)return!0;if(t.length<11)return!1;var o,a=0;if(11!=(t=t.replace(/[^\d]+/g,"")).length||"00000000000"==t)return!1;for(var s=1;s<=9;s++)a+=parseInt(t.substring(s-1,s))*(11-s);if(10!=(o=10*a%11)&&11!=o||(o=0),o!=parseInt(t.substring(9,10)))return!1;a=0;for(var e=1;e<=10;e++)a+=parseInt(t.substring(e-1,e))*(12-e);return 10!=(o=10*a%11)&&11!=o||(o=0),o==parseInt(t.substring(10,11))},d=function(t){if(!t||0==t.length)return!0;if(t.length<11)return!1;if(""==(t=t.replace(/[^\d]+/g,"")))return!1;if(14!=t.length)return!1;if("00000000000000"==t||"11111111111111"==t||"22222222222222"==t||"33333333333333"==t||"44444444444444"==t||"55555555555555"==t||"66666666666666"==t||"77777777777777"==t||"88888888888888"==t||"99999999999999"==t)return!1;for(var o=t.length-2,a=t.substring(0,o),s=t.substring(o),e=0,r=o-7,i=o;i>=1;i--)e+=a.charAt(o-i)*r--,r<2&&(r=9);var l=e%11<2?0:11-e%11;if(l!=s.charAt(0))return!1;o+=1,a=t.substring(0,o),e=0,r=o-7;for(var n=o;n>=1;n--)e+=a.charAt(o-n)*r--,r<2&&(r=9);return(l=e%11<2?0:11-e%11)==s.charAt(1)}}}]);
//# sourceMappingURL=45.js.map