(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"/GVu":function(t,a,e){"use strict";e.r(a);var i=e("ta7f");function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function d(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){r(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function r(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var o=new(e("gR0X").B),n={data:function(){return{dados:[],filtro:{ordenar:"descricao",ordem:"asc",page:1,per_page:2e3,texto:""},paginacao:{current_page:0,last_page:0,from:0,to:0,per_page:2e3},debounce:null,unidadeMedida:null,sucessoDeletar:null,erroDeletar:null,sucessoEditar:null,erroEditar:null}},validations:function(){return{unidadeMedida:{descricao:{required:i.required,maxLength:Object(i.maxLength)(50)},sigla:{required:i.required,maxLength:Object(i.maxLength)(10)},decimais:{required:i.required,integer:i.integer}}}},mounted:function(){this.buscar()},methods:{novoItem:function(t){this.sucessoEditar=null,this.erroEditar=null,this.$v.unidadeMedida.$reset(),this.unidadeMedida={descricao:""}},abrirModalEditar:function(t){this.sucessoEditar=null,this.erroEditar=null,this.$v.unidadeMedida.$reset(),this.unidadeMedida=d({},t)},salvar:function(){var t=this;if(this.sucessoEditar=null,this.erroEditar=null,this.$v.unidadeMedida.$touch(),this.$v.unidadeMedida.$invalid)return!1;(this.unidadeMedida.id?o.atualizar(this.unidadeMedida):o.criar(this.unidadeMedida)).then((function(a){var e=a.data,i=t.dados.map((function(t){return t.id})).indexOf(e.id);i>=0?t.dados.splice(i,1,e):t.dados.push(e),t.sucessoEditar="Registro salvo com sucesso!"})).catch((function(a){return t.erroEditar=a}))},abrirModalDeletar:function(t){this.sucessoDeletar=null,this.erroDeletar=null,this.unidadeMedida=d({},t)},deletar:function(){var t=this;this.sucessoDeletar=null,this.erroDeletar=null,o.deletar(this.unidadeMedida.id).then((function(a){var e=t.dados.map((function(t){return t.id})).indexOf(t.unidadeMedida.id);t.dados[e].ativo=!1,t.sucessoDeletar="Registro removido com sucesso!"})).catch((function(a){return t.erroDeletar=a}))},debounceBusca:function(){var t=this;clearTimeout(this.debounce),this.debounce=setTimeout((function(){t.navegar(1)}),800)},buscar:function(){var t=this;o.listar(this.filtro).then((function(a){t.$data.dados=a.data.data,t.$data.paginacao=a.data,t.$data.filtro.page=a.data.current_page,t.$data.paginacao.per_page=a.data.per_page}))},navegar:function(t){this.filtro.page=t,this.buscar()}}},l=(e("uUX7"),e("KHd+")),c=Object(l.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[e("h4",{staticClass:"mb-0 font-size-18"},[t._v("Cadastro de Unidade de Medidas")]),t._v(" "),e("div",{staticClass:"page-title-right"},[e("button",{staticClass:"btn btn-outline-primary waves-effect waves-light",attrs:{"data-toggle":"modal","data-target":"#modal-editar","data-backdrop":"static"},on:{click:function(a){return t.novoItem()}}},[e("i",{staticClass:"bx bxs-plus-square font-size-16 align-middle mr-2"}),t._v(" Novo\n                      ")])])])])]),t._v(" "),e("div",{staticClass:"row",staticStyle:{padding:"10px"}},[e("div",{staticClass:"col-sm-12 col-md-3"},[t._v("\n           \n      ")]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-3"},[t._v("\n               \n      ")]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-4"},[e("label",{staticStyle:{width:"90%"}},[t._v("Buscar por:\n              "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro.texto,expression:"filtro.texto"}],staticClass:"form-control form-control-sm",attrs:{autofocus:"",type:"text",placeholder:"Descrição"},domProps:{value:t.filtro.texto},on:{input:[function(a){a.target.composing||t.$set(t.filtro,"texto",a.target.value)},t.debounceBusca]}})])]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-2"},[e("label",{staticStyle:{width:"90%"}},[t._v("Filtrar:\n          "),e("button",{staticClass:"btn btn-outline-primary btn-sm btn-block",on:{click:function(a){return t.navegar(1)}}},[e("span",{staticClass:"bx bx-search-alt"})])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("Lista de Unidades de Medidas")]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table mb-0"},[t._m(0),t._v(" "),t._l(t.dados,(function(a){return e("tbody",{key:a.id},[e("tr",[e("td",{attrs:{width:"100px"}},[t._v(t._s(a.id))]),t._v(" "),e("td",[t._v(t._s(a.descricao))]),t._v(" "),e("td",[t._v(t._s(a.sigla))]),t._v(" "),e("td",[t._v(t._s(a.decimais))]),t._v(" "),e("td",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-outline-success waves-effect waves-light",staticStyle:{padding:"3px 12px 3px 12px"},attrs:{title:"Editar","data-toggle":"modal","data-target":"#modal-editar","data-backdrop":"static"},on:{click:function(e){return t.abrirModalEditar(a)}}},[e("i",{staticClass:"mdi mdi-pencil d-block font-size-14"})])])])])})),t._v(" "),e("tfoot",[e("tr",[e("td",{attrs:{colspan:"4"}},[e("paginacao-componente",{attrs:{source:t.paginacao},on:{navigate:function(a){return t.navegar(a)}}})],1)])])],2)])])])])]),t._v(" "),e("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-editar",tabindex:"-1","aria-labelledby":"modal-editar-title","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg modal-dialog-scrollable"},[e("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),t.unidadeMedida?e("form",{staticClass:"modal-body",on:{submit:function(a){return a.preventDefault(),t.salvar()}}},[e("div",{staticClass:"row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Descrição")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input-componente",{attrs:{validator:t.$v.unidadeMedida.descricao},on:{blur:t.$v.unidadeMedida.descricao.$touch},model:{value:t.unidadeMedida.descricao,callback:function(a){t.$set(t.unidadeMedida,"descricao",a)},expression:"unidadeMedida.descricao"}})],1),t._v(" "),e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Sigla")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input-componente",{attrs:{validator:t.$v.unidadeMedida.sigla},on:{blur:t.$v.unidadeMedida.sigla.$touch},model:{value:t.unidadeMedida.sigla,callback:function(a){t.$set(t.unidadeMedida,"sigla",a)},expression:"unidadeMedida.sigla"}})],1),t._v(" "),e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Qtde de Casas Decimais")]),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("input-componente",{attrs:{validator:t.$v.unidadeMedida.decimais},on:{blur:t.$v.unidadeMedida.decimais.$touch},model:{value:t.unidadeMedida.decimais,callback:function(a){t.$set(t.unidadeMedida,"decimais",a)},expression:"unidadeMedida.decimais"}})],1)])]):e("div",{staticClass:"modal-body"}),t._v(" "),e("div",{staticClass:"modal-footer"},[t.erroEditar||t.sucessoEditar?e("div",{staticClass:"row"},[t.erroEditar?e("div",{staticClass:"col-sm-12"},[e("mensagem-componente",{attrs:{titulo:"Erro!",erros:t.erroEditar},on:{fechar:function(a){t.erroEditar=null}}})],1):t._e(),t._v(" "),t.sucessoEditar?e("div",{staticClass:"col-sm-12"},[e("mensagem-componente",{attrs:{sucesso:t.sucessoEditar},on:{fechar:function(a){t.sucessoEditar=null}}})],1):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 text-center"},[t._m(2),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.sucessoEditar||!t.unidadeMedida},on:{click:function(a){return a.preventDefault(),t.salvar()}}},[e("i",{staticClass:"mdi mdi-content-save font-size-18"}),t._v(" Salvar ")])])])])])])])])}),[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("Id")]),t._v(" "),e("th",[t._v("Descrição")]),t._v(" "),e("th",[t._v("Sigla")]),t._v(" "),e("th",[t._v("Decimais")]),t._v(" "),e("th",{attrs:{width:"160px"}},[t._v("Ações")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title mt-0",attrs:{id:"modal-editarTitle"}},[this._v(" Cadastro de Unidades de Medida")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[a("i",{staticClass:"mdi mdi-close-circle font-size-18"}),this._v(" Fechar")])}],!1,null,"3fed98a4",null);a.default=c.exports},VV47:function(t,a,e){var i=e("tRVO");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(i,s);i.locals&&(t.exports=i.locals)},tRVO:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,"tr[data-v-3fed98a4]:hover{background-color:#eff2f7}",""])},uUX7:function(t,a,e){"use strict";e("VV47")}}]);
//# sourceMappingURL=29.js.map